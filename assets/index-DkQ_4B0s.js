(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const Ms=(t,e)=>t===e,Y=Symbol("solid-proxy"),ar=Symbol("solid-track"),Ns=Symbol("solid-dev-component"),$t={equals:Ms};let En=Un;const le=1,At=2,Pn={owned:null,cleanups:null,context:null,owner:null};var $=null;let Wt=null,Bs=null,O=null,B=null,ae=null,Lt=0;function st(t,e){const r=O,n=$,s=t.length===0,i=e===void 0?n:e,o=s?Pn:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?t:()=>t(()=>F(()=>Ut(o)));$=o,O=null;try{return be(a,!0)}finally{O=r,$=n}}function D(t,e){e=e?Object.assign({},$t,e):$t;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=s=>(typeof s=="function"&&(s=s(r.value)),Dn(r,s));return[Ln.bind(r),n]}function zs(t,e,r){const n=Dt(t,e,!0,le);He(n)}function G(t,e,r){const n=Dt(t,e,!1,le);He(n)}function ye(t,e,r){En=Ks;const n=Dt(t,e,!1,le),s=Fr&&Ae(Fr);s&&(n.suspense=s),n.user=!0,ae?ae.push(n):He(n)}function P(t,e,r){r=r?Object.assign({},$t,r):$t;const n=Dt(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,He(n),Ln.bind(n)}function it(t){return be(t,!1)}function F(t){if(O===null)return t();const e=O;O=null;try{return t()}finally{O=e}}function Rn(t,e,r){const n=Array.isArray(t);let s;return i=>{let o;if(n){o=Array(t.length);for(let l=0;l<t.length;l++)o[l]=t[l]()}else o=t();const a=F(()=>e(o,s,i));return s=o,a}}function Fs(t){ye(()=>F(t))}function Ge(t){return $===null||($.cleanups===null?$.cleanups=[t]:$.cleanups.push(t)),t}function lr(){return O}function jn(){return $}function In(t,e){const r=$,n=O;$=t,O=null;try{return be(e,!0)}catch(s){$r(s)}finally{$=r,O=n}}function qs(t){const e=O,r=$;return Promise.resolve().then(()=>{O=e,$=r;let n;return be(t,!1),O=$=null,n?n.done:void 0})}function mt(t,e){const r=Symbol("context");return{id:r,Provider:Hs(r),defaultValue:t}}function Ae(t){return $&&$.context&&$.context[t.id]!==void 0?$.context[t.id]:t.defaultValue}function ht(t){const e=P(t),r=P(()=>cr(e()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let Fr;function Ln(){if(this.sources&&this.state)if(this.state===le)He(this);else{const t=B;B=null,be(()=>Ot(this),!1),B=t}if(O){const t=this.observers?this.observers.length:0;O.sources?(O.sources.push(this),O.sourceSlots.push(t)):(O.sources=[this],O.sourceSlots=[t]),this.observers?(this.observers.push(O),this.observerSlots.push(O.sources.length-1)):(this.observers=[O],this.observerSlots=[O.sources.length-1])}return this.value}function Dn(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&be(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],o=Wt&&Wt.running;o&&Wt.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?B.push(i):ae.push(i),i.observers&&Mn(i)),o||(i.state=le)}if(B.length>1e6)throw B=[],new Error},!1)),e}function He(t){if(!t.fn)return;Ut(t);const e=Lt;Vs(t,t.value,e)}function Vs(t,e,r){let n;const s=$,i=O;O=$=t;try{n=t.fn(e)}catch(o){return t.pure&&(t.state=le,t.owned&&t.owned.forEach(Ut),t.owned=null),t.updatedAt=r+1,$r(o)}finally{O=i,$=s}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?Dn(t,n):t.value=n,t.updatedAt=r)}function Dt(t,e,r,n=le,s){const i={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:$,context:$?$.context:null,pure:r};return $===null||$!==Pn&&($.owned?$.owned.push(i):$.owned=[i]),i}function Tt(t){if(t.state===0)return;if(t.state===At)return Ot(t);if(t.suspense&&F(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Lt);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===le)He(t);else if(t.state===At){const n=B;B=null,be(()=>Ot(t,e[0]),!1),B=n}}function be(t,e){if(B)return t();let r=!1;e||(B=[]),ae?r=!0:ae=[],Lt++;try{const n=t();return Ws(r),n}catch(n){r||(ae=null),B=null,$r(n)}}function Ws(t){if(B&&(Un(B),B=null),t)return;const e=ae;ae=null,e.length&&be(()=>En(e),!1)}function Un(t){for(let e=0;e<t.length;e++)Tt(t[e])}function Ks(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:Tt(n)}for(e=0;e<r;e++)Tt(t[e])}function Ot(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const n=t.sources[r];if(n.sources){const s=n.state;s===le?n!==e&&(!n.updatedAt||n.updatedAt<Lt)&&Tt(n):s===At&&Ot(n,e)}}}function Mn(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=At,r.pure?B.push(r):ae.push(r),r.observers&&Mn(r))}}function Ut(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),s=r.observers;if(s&&s.length){const i=s.pop(),o=r.observerSlots.pop();n<s.length&&(i.sourceSlots[o]=n,s[n]=i,r.observerSlots[n]=o)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Ut(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Gs(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function $r(t,e=$){throw Gs(t)}function cr(t){if(typeof t=="function"&&!t.length)return cr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=cr(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Hs(t,e){return function(n){let s;return G(()=>s=F(()=>($.context={...$.context,[t]:n.value},ht(()=>n.children))),void 0),s}}const Js=Symbol("fallback");function qr(t){for(let e=0;e<t.length;e++)t[e]()}function Xs(t,e,r={}){let n=[],s=[],i=[],o=0,a=e.length>1?[]:null;return Ge(()=>qr(i)),()=>{let l=t()||[],c,u;return l[ar],F(()=>{let d=l.length,f,b,p,m,_,y,v,w,T;if(d===0)o!==0&&(qr(i),i=[],n=[],s=[],o=0,a&&(a=[])),r.fallback&&(n=[Js],s[0]=st(z=>(i[0]=z,r.fallback())),o=1);else if(o===0){for(s=new Array(d),u=0;u<d;u++)n[u]=l[u],s[u]=st(h);o=d}else{for(p=new Array(d),m=new Array(d),a&&(_=new Array(d)),y=0,v=Math.min(o,d);y<v&&n[y]===l[y];y++);for(v=o-1,w=d-1;v>=y&&w>=y&&n[v]===l[w];v--,w--)p[w]=s[v],m[w]=i[v],a&&(_[w]=a[v]);for(f=new Map,b=new Array(w+1),u=w;u>=y;u--)T=l[u],c=f.get(T),b[u]=c===void 0?-1:c,f.set(T,u);for(c=y;c<=v;c++)T=n[c],u=f.get(T),u!==void 0&&u!==-1?(p[u]=s[c],m[u]=i[c],a&&(_[u]=a[c]),u=b[u],f.set(T,u)):i[c]();for(u=y;u<d;u++)u in p?(s[u]=p[u],i[u]=m[u],a&&(a[u]=_[u],a[u](u))):s[u]=st(h);s=s.slice(0,o=d),n=l.slice(0)}return s});function h(d){if(i[u]=d,a){const[f,b]=D(u);return a[u]=b,e(l[u],f)}return e(l[u])}}}function S(t,e){return F(()=>t(e||{}))}function vt(){return!0}const ur={get(t,e,r){return e===Y?r:t.get(e)},has(t,e){return e===Y?!0:t.has(e)},set:vt,deleteProperty:vt,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:vt,deleteProperty:vt}},ownKeys(t){return t.keys()}};function Kt(t){return(t=typeof t=="function"?t():t)?t:{}}function Ys(){for(let t=0,e=this.length;t<e;++t){const r=this[t]();if(r!==void 0)return r}}function I(...t){let e=!1;for(let o=0;o<t.length;o++){const a=t[o];e=e||!!a&&Y in a,t[o]=typeof a=="function"?(e=!0,P(a)):a}if(e)return new Proxy({get(o){for(let a=t.length-1;a>=0;a--){const l=Kt(t[a])[o];if(l!==void 0)return l}},has(o){for(let a=t.length-1;a>=0;a--)if(o in Kt(t[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<t.length;a++)o.push(...Object.keys(Kt(t[a])));return[...new Set(o)]}},ur);const r={},n=Object.create(null);for(let o=t.length-1;o>=0;o--){const a=t[o];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const h=Object.getOwnPropertyDescriptor(a,u);if(!n[u])n[u]=h.get?{enumerable:!0,configurable:!0,get:Ys.bind(r[u]=[h.get.bind(a)])}:h.value!==void 0?h:void 0;else{const d=r[u];d&&(h.get?d.push(h.get.bind(a)):h.value!==void 0&&d.push(()=>h.value))}}}const s={},i=Object.keys(n);for(let o=i.length-1;o>=0;o--){const a=i[o],l=n[a];l&&l.get?Object.defineProperty(s,a,l):s[a]=l?l.value:void 0}return s}function Je(t,...e){if(Y in t){const s=new Set(e.length>1?e.flat():e[0]),i=e.map(o=>new Proxy({get(a){return o.includes(a)?t[a]:void 0},has(a){return o.includes(a)&&a in t},keys(){return o.filter(a=>a in t)}},ur));return i.push(new Proxy({get(o){return s.has(o)?void 0:t[o]},has(o){return s.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!s.has(o))}},ur)),i}const r={},n=e.map(()=>({}));for(const s of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,s),o=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,l=0;for(const c of e)c.includes(s)&&(a=!0,o?n[l][s]=i.value:Object.defineProperty(n[l],s,i)),++l;a||(o?r[s]=i.value:Object.defineProperty(r,s,i))}return[...n,r]}const Qs=t=>`Stale read from <${t}>.`;function Nn(t){const e="fallback"in t&&{fallback:()=>t.fallback};return P(Xs(()=>t.each,t.children,e||void 0))}function dt(t){const e=t.keyed,r=P(()=>t.when,void 0,{equals:(n,s)=>e?n===s:!n==!s});return P(()=>{const n=r();if(n){const s=t.children;return typeof s=="function"&&s.length>0?F(()=>s(e?n:()=>{if(!F(r))throw Qs("Show");return t.when})):s}return t.fallback},void 0,void 0)}const Zs=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],ei=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Zs]),ti=new Set(["innerHTML","textContent","innerText","children"]),ri=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ni=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function si(t,e){const r=ni[t];return typeof r=="object"?r[e]?r.$:void 0:r}const ii=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),oi=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),ai={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function li(t,e,r){let n=r.length,s=e.length,i=n,o=0,a=0,l=e[s-1].nextSibling,c=null;for(;o<s||a<i;){if(e[o]===r[a]){o++,a++;continue}for(;e[s-1]===r[i-1];)s--,i--;if(s===o){const u=i<n?a?r[a-1].nextSibling:r[i-a]:l;for(;a<i;)t.insertBefore(r[a++],u)}else if(i===a)for(;o<s;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===r[i-1]&&r[a]===e[s-1]){const u=e[--s].nextSibling;t.insertBefore(r[a++],e[o++].nextSibling),t.insertBefore(r[--i],u),e[s]=r[i]}else{if(!c){c=new Map;let h=a;for(;h<i;)c.set(r[h],h++)}const u=c.get(e[o]);if(u!=null)if(a<u&&u<i){let h=o,d=1,f;for(;++h<s&&h<i&&!((f=c.get(e[h]))==null||f!==u+d);)d++;if(d>u-a){const b=e[o];for(;a<u;)t.insertBefore(r[a++],b)}else t.replaceChild(r[a++],e[o++])}else o++;else e[o++].remove()}}}const Vr="_$DX_DELEGATE";function ci(t,e,r,n={}){let s;return st(i=>{s=i,e===document?t():xe(e,t(),e.firstChild?null:void 0,r)},n.owner),()=>{s(),e.textContent=""}}function Te(t,e,r){let n;const s=()=>{const o=document.createElement("template");return o.innerHTML=t,o.content.firstChild},i=()=>(n||(n=s())).cloneNode(!0);return i.cloneNode=i,i}function Bn(t,e=window.document){const r=e[Vr]||(e[Vr]=new Set);for(let n=0,s=t.length;n<s;n++){const i=t[n];r.has(i)||(r.add(i),e.addEventListener(i,bi))}}function Ve(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function ui(t,e,r,n){n==null?t.removeAttributeNS(e,r):t.setAttributeNS(e,r,n)}function ot(t,e){e==null?t.removeAttribute("class"):t.className=e}function hi(t,e,r,n){if(n)Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r;else if(Array.isArray(r)){const s=r[0];t.addEventListener(e,r[0]=i=>s.call(t,r[1],i))}else t.addEventListener(e,r)}function di(t,e,r={}){const n=Object.keys(e||{}),s=Object.keys(r);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||e[a]||(Wr(t,a,!1),delete r[a])}for(i=0,o=n.length;i<o;i++){const a=n[i],l=!!e[a];!a||a==="undefined"||r[a]===l||!l||(Wr(t,a,!0),r[a]=l)}return r}function fi(t,e,r){if(!e)return r?Ve(t,"style"):e;const n=t.style;if(typeof e=="string")return n.cssText=e;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),e||(e={});let s,i;for(i in r)e[i]==null&&n.removeProperty(i),delete r[i];for(i in e)s=e[i],s!==r[i]&&(n.setProperty(i,s),r[i]=s);return r}function pi(t,e={},r,n){const s={};return G(()=>s.children=ft(t,e.children,s.children)),G(()=>typeof e.ref=="function"?gi(e.ref,t):e.ref=t),G(()=>mi(t,e,r,!0,s,!0)),s}function gi(t,e,r){return F(()=>t(e,r))}function xe(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return ft(t,e,n,r);G(s=>ft(t,e(),s,r),n)}function mi(t,e,r,n,s={},i=!1){e||(e={});for(const o in s)if(!(o in e)){if(o==="children")continue;s[o]=Kr(t,o,null,s[o],r,i)}for(const o in e){if(o==="children")continue;const a=e[o];s[o]=Kr(t,o,a,s[o],r,i)}}function yi(t){return t.toLowerCase().replace(/-([a-z])/g,(e,r)=>r.toUpperCase())}function Wr(t,e,r){const n=e.trim().split(/\s+/);for(let s=0,i=n.length;s<i;s++)t.classList.toggle(n[s],r)}function Kr(t,e,r,n,s,i){let o,a,l,c,u;if(e==="style")return fi(t,r,n);if(e==="classList")return di(t,r,n);if(r===n)return n;if(e==="ref")i||r(t);else if(e.slice(0,3)==="on:"){const h=e.slice(3);n&&t.removeEventListener(h,n),r&&t.addEventListener(h,r)}else if(e.slice(0,10)==="oncapture:"){const h=e.slice(10);n&&t.removeEventListener(h,n,!0),r&&t.addEventListener(h,r,!0)}else if(e.slice(0,2)==="on"){const h=e.slice(2).toLowerCase(),d=ii.has(h);if(!d&&n){const f=Array.isArray(n)?n[0]:n;t.removeEventListener(h,f)}(d||r)&&(hi(t,h,r,d),d&&Bn([h]))}else if(e.slice(0,5)==="attr:")Ve(t,e.slice(5),r);else if((u=e.slice(0,5)==="prop:")||(l=ti.has(e))||!s&&((c=si(e,t.tagName))||(a=ei.has(e)))||(o=t.nodeName.includes("-")))u&&(e=e.slice(5),a=!0),e==="class"||e==="className"?ot(t,r):o&&!a&&!l?t[yi(e)]=r:t[c||e]=r;else{const h=s&&e.indexOf(":")>-1&&ai[e.split(":")[0]];h?ui(t,h,e,r):Ve(t,ri[e]||e,r)}return r}function bi(t){const e=`$$${t.type}`;let r=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==r&&Object.defineProperty(t,"target",{configurable:!0,value:r}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return r||document}});r;){const n=r[e];if(n&&!r.disabled){const s=r[`${e}Data`];if(s!==void 0?n.call(r,s,t):n.call(r,t),t.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function ft(t,e,r,n,s){for(;typeof r=="function";)r=r();if(e===r)return r;const i=typeof e,o=n!==void 0;if(t=o&&r[0]&&r[0].parentNode||t,i==="string"||i==="number")if(i==="number"&&(e=e.toString()),o){let a=r[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),r=Ee(t,r,n,a)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e;else if(e==null||i==="boolean")r=Ee(t,r,n);else{if(i==="function")return G(()=>{let a=e();for(;typeof a=="function";)a=a();r=ft(t,a,r,n)}),()=>r;if(Array.isArray(e)){const a=[],l=r&&Array.isArray(r);if(hr(a,e,r,s))return G(()=>r=ft(t,a,r,n,!0)),()=>r;if(a.length===0){if(r=Ee(t,r,n),o)return r}else l?r.length===0?Gr(t,a,n):li(t,r,a):(r&&Ee(t),Gr(t,a));r=a}else if(e.nodeType){if(Array.isArray(r)){if(o)return r=Ee(t,r,n,e);Ee(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function hr(t,e,r,n){let s=!1;for(let i=0,o=e.length;i<o;i++){let a=e[i],l=r&&r[t.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))s=hr(t,a,l)||s;else if(c==="function")if(n){for(;typeof a=="function";)a=a();s=hr(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||s}else t.push(a),s=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?t.push(l):t.push(document.createTextNode(u))}}return s}function Gr(t,e,r=null){for(let n=0,s=e.length;n<s;n++)t.insertBefore(e[n],r)}function Ee(t,e,r,n){if(r===void 0)return t.textContent="";const s=n||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(s!==a){const l=a.parentNode===t;!i&&!o?l?t.replaceChild(s,a):t.insertBefore(s,r):l&&a.remove()}else i=!0}}else t.insertBefore(s,r);return[s]}const vi=!1;function zn(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let r=!1;function n(s,i){if(r)return!(r=!1);const o={to:s,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of t)a.listener({...o,from:a.location,retry:l=>{l&&(r=!0),a.navigate(s,{...i,resolve:!1})}});return!o.defaultPrevented}return{subscribe:e,confirm:n}}let dr;function Ar(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),dr=window.history.state._depth}Ar();function wi(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function _i(t,e){let r=!1;return()=>{const n=dr;Ar();const s=n==null?null:dr-n;if(r){r=!1;return}s&&e(s)?(r=!0,window.history.go(-s)):t()}}const ki=/^(?:[a-z0-9]+:)?\/\//i,Si=/^\/+|(\/)\/+$/g,Fn="http://sr";function at(t,e=!1){const r=t.replace(Si,"$1");return r?e||/^[?#]/.test(r)?r:"/"+r:""}function Ct(t,e,r){if(ki.test(e))return;const n=at(t),s=r&&at(r);let i="";return!s||e.startsWith("/")?i=n:s.toLowerCase().indexOf(n.toLowerCase())!==0?i=n+s:i=s,(i||"/")+at(e,!i)}function xi(t,e){if(t==null)throw new Error(e);return t}function Ci(t,e){return at(t).replace(/\/*(\*.*)?$/g,"")+at(e)}function qn(t){const e={};return t.searchParams.forEach((r,n)=>{e[n]=r}),e}function $i(t,e,r){const[n,s]=t.split("/*",2),i=n.split("/").filter(Boolean),o=i.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-o;if(c<0||c>0&&s===void 0&&!e)return null;const u={path:o?"":"/",params:{}},h=d=>r===void 0?void 0:r[d];for(let d=0;d<o;d++){const f=i[d],b=l[d],p=f[0]===":",m=p?f.slice(1):f;if(p&&Gt(b,h(m)))u.params[m]=b;else if(p||!Gt(b,f))return null;u.path+=`/${b}`}if(s){const d=c?l.slice(-c).join("/"):"";if(Gt(d,h(s)))u.params[s]=d;else return null}return u}}function Gt(t,e){const r=n=>n.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?r(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(r):e instanceof RegExp?e.test(t):!1}function Ai(t){const[e,r]=t.pattern.split("/*",2),n=e.split("/").filter(Boolean);return n.reduce((s,i)=>s+(i.startsWith(":")?2:3),n.length-(r===void 0?0:1))}function Vn(t){const e=new Map,r=jn();return new Proxy({},{get(n,s){return e.has(s)||In(r,()=>e.set(s,P(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Wn(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let r=t.slice(0,e.index),n=t.slice(e.index+e[0].length);const s=[r,r+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(n);)s.push(r+=e[1]),n=n.slice(e[0].length);return Wn(n).reduce((i,o)=>[...i,...s.map(a=>a+o)],[])}const Ti=100,Kn=mt(),Gn=mt(),Oi=()=>xi(Ae(Kn),"<A> and 'use' router primitives can be only used inside a Route."),Ei=()=>Oi().params;function Pi(t,e=""){const{component:r,load:n,children:s,info:i}=t,o=!s||Array.isArray(s)&&!s.length,a={key:t,component:r,load:n,info:i};return Hn(t.path).reduce((l,c)=>{for(const u of Wn(c)){const h=Ci(e,u);let d=o?h:h.split("/*",1)[0];d=d.split("/").map(f=>f.startsWith(":")||f.startsWith("*")?f:encodeURIComponent(f)).join("/"),l.push({...a,originalPath:c,pattern:d,matcher:$i(d,!o,t.matchFilters)})}return l},[])}function Ri(t,e=0){return{routes:t,score:Ai(t[t.length-1])*1e4-e,matcher(r){const n=[];for(let s=t.length-1;s>=0;s--){const i=t[s],o=i.matcher(r);if(!o)return null;n.unshift({...o,route:i})}return n}}}function Hn(t){return Array.isArray(t)?t:[t]}function Jn(t,e="",r=[],n=[]){const s=Hn(t);for(let i=0,o=s.length;i<o;i++){const a=s[i];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=Pi(a,e);for(const c of l){r.push(c);const u=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!u)Jn(a.children,c.pattern,r,n);else{const h=Ri([...r],n.length);n.push(h)}r.pop()}}}return r.length?n:n.sort((i,o)=>o.score-i.score)}function Ht(t,e){for(let r=0,n=t.length;r<n;r++){const s=t[r].matcher(e);if(s)return s}return[]}function ji(t,e){const r=new URL(Fn),n=P(l=>{const c=t();try{return new URL(c,r)}catch{return console.error(`Invalid path ${c}`),l}},r,{equals:(l,c)=>l.href===c.href}),s=P(()=>n().pathname),i=P(()=>n().search,!0),o=P(()=>n().hash),a=()=>"";return{get pathname(){return s()},get search(){return i()},get hash(){return o()},get state(){return e()},get key(){return a()},query:Vn(Rn(i,()=>qn(n())))}}let ie;function Ii(){return ie}function Li(t,e,r,n={}){const{signal:[s,i],utils:o={}}=t,a=o.parsePath||(A=>A),l=o.renderPath||(A=>A),c=o.beforeLeave||zn(),u=Ct("",n.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!s().value&&i({value:u,replace:!0,scroll:!1});const[h,d]=D(!1),f=async A=>{d(!0);try{await qs(A)}finally{d(!1)}},[b,p]=D(s().value),[m,_]=D(s().state),y=ji(b,m),v=[],w=D([]),T=P(()=>typeof n.transformUrl=="function"?Ht(e(),n.transformUrl(y.pathname)):Ht(e(),y.pathname)),z=Vn(()=>{const A=T(),R={};for(let U=0;U<A.length;U++)Object.assign(R,A[U].params);return R}),Q={pattern:u,path:()=>u,outlet:()=>null,resolvePath(A){return Ct(u,A)}};return G(()=>{const{value:A,state:R}=s();F(()=>{f(()=>{ie="native",A!==b()&&p(A),_(R),w[1]([])}).then(()=>{ie=void 0})})}),{base:Q,location:y,params:z,isRouting:h,renderPath:l,parsePath:a,navigatorFactory:ve,matches:T,beforeLeave:c,preloadRoute:Vt,singleFlight:n.singleFlight===void 0?!0:n.singleFlight,submissions:w};function re(A,R,U){F(()=>{if(typeof R=="number"){R&&(o.go?o.go(R):console.warn("Router integration does not support relative routing"));return}const{replace:Ye,resolve:Qe,scroll:k,state:he}={replace:!1,resolve:!0,scroll:!0,...U},ne=Qe?A.resolvePath(R):Ct("",R);if(ne===void 0)throw new Error(`Path '${R}' is not a routable path`);if(v.length>=Ti)throw new Error("Too many redirects");const Ze=b();if((ne!==Ze||he!==m())&&!vi){if(c.confirm(ne,U)){const zr=v.push({value:Ze,replace:Ye,scroll:k,state:m()});f(()=>{ie="navigate",p(ne),_(he),w[1]([])}).then(()=>{v.length===zr&&(ie=void 0,se({value:ne,state:he}))})}}})}function ve(A){return A=A||Ae(Gn)||Q,(R,U)=>re(A,R,U)}function se(A){const R=v[0];R&&((A.value!==R.value||A.state!==R.state)&&i({...A,replace:R.replace,scroll:R.scroll}),v.length=0)}function Vt(A,R){const U=Ht(e(),A.pathname),Ye=ie;ie="preload";for(let Qe in U){const{route:k,params:he}=U[Qe];k.component&&k.component.preload&&k.component.preload();const{load:ne}=k;R&&ne&&In(r(),()=>ne({params:he,location:{pathname:A.pathname,search:A.search,hash:A.hash,query:qn(A),state:null,key:""},intent:"preload"}))}ie=Ye}}function Di(t,e,r,n){const{base:s,location:i,params:o}=t,{pattern:a,component:l,load:c}=n().route,u=P(()=>n().path);l&&l.preload&&l.preload();const h=c?c({params:o,location:i,intent:ie||"initial"}):void 0;return{parent:e,pattern:a,path:u,outlet:()=>l?S(l,{params:o,location:i,data:h,get children(){return r()}}):r(),resolvePath(f){return Ct(s.path(),f,u())}}}const Ui=t=>e=>{const{base:r}=e,n=ht(()=>e.children),s=P(()=>Jn(n(),e.base||""));let i;const o=Li(t,s,()=>i,{base:r,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(o),S(Kn.Provider,{value:o,get children(){return S(Mi,{routerState:o,get root(){return e.root},get load(){return e.rootLoad},get children(){return[P(()=>(i=jn())&&null),S(Ni,{routerState:o,get branches(){return s()}})]}})}})};function Mi(t){const e=t.routerState.location,r=t.routerState.params,n=P(()=>t.load&&F(()=>{t.load({params:r,location:e,intent:Ii()||"initial"})}));return S(dt,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:s=>S(s,{params:r,location:e,get data(){return n()},get children(){return t.children}})})}function Ni(t){const e=[];let r;const n=P(Rn(t.routerState.matches,(s,i,o)=>{let a=i&&s.length===i.length;const l=[];for(let c=0,u=s.length;c<u;c++){const h=i&&i[c],d=s[c];o&&h&&d.route.key===h.route.key?l[c]=o[c]:(a=!1,e[c]&&e[c](),st(f=>{e[c]=f,l[c]=Di(t.routerState,l[c-1]||t.routerState.base,Hr(()=>n()[c+1]),()=>t.routerState.matches()[c])}))}return e.splice(s.length).forEach(c=>c()),o&&a?o:(r=l[0],l)}));return Hr(()=>n()&&r)()}const Hr=t=>()=>S(dt,{get when(){return t()},keyed:!0,children:e=>S(Gn.Provider,{value:e,get children(){return e.outlet()}})}),Jr=t=>{const e=ht(()=>t.children);return I(t,{get children(){return e()}})};function Bi([t,e],r,n){return[t,n?s=>e(n(s)):e]}function zi(t){if(t==="#")return null;try{return document.querySelector(t)}catch{return null}}function Fi(t){let e=!1;const r=s=>typeof s=="string"?{value:s}:s,n=Bi(D(r(t.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!e&&t.set(s),s));return t.init&&Ge(t.init((s=t.get())=>{e=!0,n[1](r(s)),e=!1})),Ui({signal:n,create:t.create,utils:t.utils})}function qi(t,e,r){return t.addEventListener(e,r),()=>t.removeEventListener(e,r)}function Vi(t,e){const r=zi(`#${t}`);r?r.scrollIntoView():e&&window.scrollTo(0,0)}const Wi=new Map;function Ki(t=!0,e=!1,r="/_server",n){return s=>{const i=s.base.path(),o=s.navigatorFactory(s.base);let a={};function l(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function c(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const m=p.composedPath().find(z=>z instanceof Node&&z.nodeName.toUpperCase()==="A");if(!m||e&&!m.hasAttribute("link"))return;const _=l(m),y=_?m.href.baseVal:m.href;if((_?m.target.baseVal:m.target)||!y&&!m.hasAttribute("state"))return;const w=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||w&&w.includes("external"))return;const T=_?new URL(y,document.baseURI):new URL(y);if(!(T.origin!==window.location.origin||i&&T.pathname&&!T.pathname.toLowerCase().startsWith(i.toLowerCase())))return[m,T]}function u(p){const m=c(p);if(!m)return;const[_,y]=m,v=s.parsePath(y.pathname+y.search+y.hash),w=_.getAttribute("state");p.preventDefault(),o(v,{resolve:!1,replace:_.hasAttribute("replace"),scroll:!_.hasAttribute("noscroll"),state:w&&JSON.parse(w)})}function h(p){const m=c(p);if(!m)return;const[_,y]=m;typeof n=="function"&&(y.pathname=n(y.pathname)),a[y.pathname]||s.preloadRoute(y,_.getAttribute("preload")!=="false")}function d(p){const m=c(p);if(!m)return;const[_,y]=m;typeof n=="function"&&(y.pathname=n(y.pathname)),!a[y.pathname]&&(a[y.pathname]=setTimeout(()=>{s.preloadRoute(y,_.getAttribute("preload")!=="false"),delete a[y.pathname]},200))}function f(p){const m=c(p);if(!m)return;const[,_]=m;typeof n=="function"&&(_.pathname=n(_.pathname)),a[_.pathname]&&(clearTimeout(a[_.pathname]),delete a[_.pathname])}function b(p){if(p.defaultPrevented)return;let m=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const y=new URL(m,Fn);if(m=s.parsePath(y.pathname+y.search),!m.startsWith(r))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const _=Wi.get(m);if(_){p.preventDefault();const y=new FormData(p.target);p.submitter&&p.submitter.name&&y.append(p.submitter.name,p.submitter.value),_.call({r:s,f:p.target},y)}}Bn(["click","submit"]),document.addEventListener("click",u),t&&(document.addEventListener("mouseover",d),document.addEventListener("mouseout",f),document.addEventListener("focusin",h),document.addEventListener("touchstart",h)),document.addEventListener("submit",b),Ge(()=>{document.removeEventListener("click",u),t&&(document.removeEventListener("mouseover",d),document.removeEventListener("mouseout",f),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",b)})}}function Gi(t){const e=()=>{const n=window.location.pathname+window.location.search;return{value:t.transformUrl?t.transformUrl(n)+window.location.hash:n+window.location.hash,state:window.history.state}},r=zn();return Fi({get:e,set({value:n,replace:s,scroll:i,state:o}){s?window.history.replaceState(wi(o),"",n):window.history.pushState(o,"",n),Vi(window.location.hash.slice(1),i),Ar()},init:n=>qi(window,"popstate",_i(n,s=>{if(s&&s<0)return!r.confirm(s);{const i=e();return!r.confirm(i.value,{state:i.state})}})),create:Ki(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:n=>window.history.go(n),beforeLeave:r}})(t)}const fr=Symbol("store-raw"),Ue=Symbol("store-node"),oe=Symbol("store-has"),Xn=Symbol("store-self");function Yn(t){let e;return t!=null&&typeof t=="object"&&(t[Y]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Et(t,e=new Set){let r,n,s,i;if(r=t!=null&&t[fr])return r;if(!Yn(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)s=t[o],(n=Et(s,e))!==s&&(t[o]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,c=o.length;l<c;l++)i=o[l],!a[i].get&&(s=t[i],(n=Et(s,e))!==s&&(t[i]=n))}return t}function Pt(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function pt(t,e,r){if(t[e])return t[e];const[n,s]=D(r,{equals:!1,internal:!0});return n.$=s,t[e]=n}function Qn(t){lr()&&pt(Pt(t,Ue),Xn)()}function Hi(t){return Qn(t),Reflect.ownKeys(t)}function Xr(t,e,r,n=!1){if(!n&&t[e]===r)return;const s=t[e],i=t.length;r===void 0?(delete t[e],t[oe]&&t[oe][e]&&s!==void 0&&t[oe][e].$()):(t[e]=r,t[oe]&&t[oe][e]&&s===void 0&&t[oe][e].$());let o=Pt(t,Ue),a;if((a=pt(o,e,s))&&a.$(()=>r),Array.isArray(t)&&t.length!==i){for(let l=t.length;l<i;l++)(a=o[l])&&a.$();(a=pt(o,"length",i))&&a.$(t.length)}(a=o[Xn])&&a.$()}function Ji(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||r.set||!r.configurable||e===Y||e===Ue||(delete r.value,delete r.writable,r.get=()=>t[Y][e],r.set=n=>t[Y][e]=n),r}const Xi={get(t,e,r){if(e===fr)return t;if(e===Y)return r;if(e===ar)return Qn(t),r;const n=Pt(t,Ue),s=n[e];let i=s?s():t[e];if(e===Ue||e===oe||e==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(t,e),a=typeof i=="function";if(lr()&&(!a||t.hasOwnProperty(e))&&!(o&&o.get))i=pt(n,e,i)();else if(i!=null&&a&&i===Array.prototype[e])return(...l)=>it(()=>Array.prototype[e].apply(r,l))}return Yn(i)?Zn(i):i},has(t,e){return e===fr||e===Y||e===ar||e===Ue||e===oe||e==="__proto__"?!0:(lr()&&pt(Pt(t,oe),e)(),e in t)},set(t,e,r){return it(()=>Xr(t,e,Et(r))),!0},deleteProperty(t,e){return it(()=>Xr(t,e,void 0,!0)),!0},ownKeys:Hi,getOwnPropertyDescriptor:Ji};function Zn(t){let e=t[Y];if(!e){Object.defineProperty(t,Y,{value:e=new Proxy(t,Xi)});const r=Object.keys(t),n=Object.getOwnPropertyDescriptors(t),s=Object.getPrototypeOf(t),i=t!==null&&typeof t=="object"&&!Array.isArray(t)&&s!==Object.prototype;if(i){const o=Object.getOwnPropertyDescriptors(s);r.push(...Object.keys(o)),Object.assign(n,o)}for(let o=0,a=r.length;o<a;o++){const l=r[o];if(!(i&&l==="constructor")){if(n[l].get){const c=n[l].get.bind(e);Object.defineProperty(t,l,{get:c,configurable:!0})}if(n[l].set){const c=n[l].set;Object.defineProperty(t,l,{set:h=>it(()=>c.call(e,h)),configurable:!0})}}}}return e}function es(t,e){const r=Et(t||{});return Zn(r)}const Yi="modulepreload",Qi=function(t){return"/"+t},Yr={},We=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");s=Promise.all(r.map(a=>{if(a=Qi(a),a in Yr)return;Yr[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":Yi,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Zi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>We(()=>Promise.resolve().then(()=>yt),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Tr extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class eo extends Tr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class to extends Tr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ro extends Tr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pr||(pr={}));var no=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class so{constructor(e,{headers:r={},customFetch:n,region:s=pr.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Zi(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return no(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(b=>{throw new eo(b)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new to(u);if(!u.ok)throw new ro(u);let d=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield u.json():d==="application/octet-stream"?f=yield u.blob():d==="text/event-stream"?f=u:d==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var io=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ke=io();const oo=Ke.fetch,Or=Ke.fetch.bind(Ke),ts=Ke.Headers,ao=Ke.Request,lo=Ke.Response,yt=Object.freeze(Object.defineProperty({__proto__:null,Headers:ts,Request:ao,Response:lo,default:Or,fetch:oo},Symbol.toStringTag,{value:"Module"}));class co extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class uo{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Or:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,h=null,d=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),m=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");p&&m&&m.length>1&&(h=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const p=await i.text();try{c=JSON.parse(p),Array.isArray(c)&&i.status===404&&(u=[],c=null,d=200,f="OK")}catch{i.status===404&&p===""?(d=204,f="No Content"):c={message:p}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,f="OK"),c&&this.shouldThrowOnError)throw new co(c)}return{error:c,data:u,count:h,status:d,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}}class ho extends uo{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ie extends ho{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}}class fo{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ie({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ie({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ie({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ie({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ie({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const po="1.15.2",go={"X-Client-Info":`postgrest-js/${po}`};class Er{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},go),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new fo(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Er(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Ie({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const mo="2.9.4",yo={"X-Client-Info":`realtime-js/${mo}`},bo="1.0.0",rs=1e4,vo=1e3;var Me;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Me||(Me={}));var K;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(K||(K={}));var ee;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ee||(ee={}));var gr;(function(t){t.websocket="websocket"})(gr||(gr={}));var Se;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Se||(Se={}));class ns{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class wo{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Jt{constructor(e,r,n={},s=rs){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qr;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qr||(Qr={}));class lt{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lt.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=lt.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lt.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),b=u.filter(m=>f.indexOf(m.presence_ref)<0),p=h.filter(m=>d.indexOf(m.presence_ref)<0);b.length>0&&(a[c]=b),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var E;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(E||(E={}));const Zr=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=_o(o,t,e,s),i),{})},_o=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s?.type,o=r[t];return i&&!n.includes(i)?ss(i,o):mr(o)},ss=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Co(e,r)}switch(t){case E.bool:return ko(e);case E.float4:case E.float8:case E.int2:case E.int4:case E.int8:case E.numeric:case E.oid:return So(e);case E.json:case E.jsonb:return xo(e);case E.timestamp:return $o(e);case E.abstime:case E.date:case E.daterange:case E.int4range:case E.int8range:case E.money:case E.reltime:case E.text:case E.time:case E.timestamptz:case E.timetz:case E.tsrange:case E.tstzrange:return mr(e);default:return mr(e)}},mr=t=>t,ko=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},So=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xo=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Co=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ss(e,a))}return t},$o=t=>typeof t=="string"?t.replace(" ","T"):t;var en;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(en||(en={}));var tn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(tn||(tn={}));var rn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rn||(rn={}));class Pr{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=K.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jt(this,ee.join,this.params,this.timeout),this.rejoinTimer=new ns(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=K.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=K.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=K.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=K.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ee.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new lt(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,d=(u=h?.length)!==null&&u!==void 0?u:0,f=[];for(let b=0;b<d;b++){const p=h[b],{filter:{event:m,schema:_,table:y,filter:v}}=p,w=c&&c[b];if(w&&w.event===m&&w.schema===_&&w.table===y&&w.filter===v)f.push(Object.assign(Object.assign({},p),{id:w.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{apikey:(n=this.socket.apiKey)!==null&&n!==void 0?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=K.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ee.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Jt(this,ee.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jt(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ee;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var b,p,m;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((m=(p=f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var b,p,m,_,y,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const w=f.id,T=(b=f.filter)===null||b===void 0?void 0:b.event;return w&&((p=r.ids)===null||p===void 0?void 0:p.includes(w))&&(T==="*"||T?.toLocaleLowerCase()===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const w=(y=(_=f?.filter)===null||_===void 0?void 0:_.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((v=r?.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const b=d.data,{schema:p,table:m,commit_timestamp:_,type:y,errors:v}=b;d=Object.assign(Object.assign({},{schema:p,table:m,commit_timestamp:_,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(b))}f.callback(d,n)})}_isClosed(){return this.state===K.closed}_isJoined(){return this.state===K.joined}_isJoining(){return this.state===K.joining}_isLeaving(){return this.state===K.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Pr.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ee.close,{},e)}_onError(e){this._on(ee.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=K.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Zr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Zr(e.columns,e.old_record)),r}}const Ao=()=>{},To=typeof WebSocket<"u";class Oo{constructor(e,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=yo,this.params={},this.timeout=rs,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ao,this.conn=null,this.sendBuffer=[],this.serializer=new wo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>We(()=>Promise.resolve().then(()=>yt),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${gr.websocket}`,r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r?.params)===null||n===void 0?void 0:n.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r?.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ns(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(To){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Eo(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),We(()=>import("./browser-BImCA5dO.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Me.connecting:return Se.Connecting;case Me.open:return Se.Open;case Me.closing:return Se.Closing;default:return Se.Closed}}isConnected(){return this.connectionState()===Se.Open}channel(e,r={config:{}}){const n=new Pr(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(ee.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bo}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;(o&&o===this.pendingHeartbeatRef||s===i?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ee.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(vo,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Eo{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Me.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Rr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function M(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Po extends Rr{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nn extends Rr{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Ro=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const is=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>We(()=>Promise.resolve().then(()=>yt),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jo=()=>Ro(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield We(()=>Promise.resolve().then(()=>yt),void 0)).Response:Response});var Xe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Xt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Io=(t,e)=>Xe(void 0,void 0,void 0,function*(){const r=yield jo();t instanceof r?t.json().then(n=>{e(new Po(Xt(n),t.status||500))}).catch(n=>{e(new nn(Xt(n),n))}):e(new nn(Xt(t),t))}),Lo=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};function Mt(t,e,r,n,s,i){return Xe(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Lo(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Io(l,a))})})}function yr(t,e,r,n){return Xe(this,void 0,void 0,function*(){return Mt(t,"GET",e,r,n)})}function ge(t,e,r,n,s){return Xe(this,void 0,void 0,function*(){return Mt(t,"POST",e,n,s,r)})}function Do(t,e,r,n,s){return Xe(this,void 0,void 0,function*(){return Mt(t,"PUT",e,n,s,r)})}function os(t,e,r,n,s){return Xe(this,void 0,void 0,function*(){return Mt(t,"DELETE",e,n,s,r)})}var H=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Uo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mo{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=is(s)}uploadOrUpdate(e,r,n,s){return H(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sn),s),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl)):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(r),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o?.duplex?{duplex:o.duplex}:{})),h=yield u.json();return u.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(M(i))return{data:null,error:i};throw i}})}upload(e,r,n){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return H(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:sn.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(M(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return H(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=yield ge(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:this.headers}),s=new URL(this.url+n.url),i=s.searchParams.get("token");if(!i)throw new Rr("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}update(e,r,n){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r){return H(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}})}copy(e,r){return H(this,void 0,void 0,function*(){try{return{data:{path:(yield ge(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers})).Key},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,n){return H(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ge(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return H(this,void 0,void 0,function*(){try{const s=yield ge(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}})}download(e,r){return H(this,void 0,void 0,function*(){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield yr(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(M(a))return{data:null,error:a};throw a}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return H(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}list(e,r,n){return H(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Uo),r),{prefix:e||""});return{data:yield ge(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const No="2.5.5",Bo={"X-Client-Info":`storage-js/${No}`};var Pe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class zo{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Bo),r),this.fetch=is(n)}listBuckets(){return Pe(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(M(e))return{data:null,error:e};throw e}})}getBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Pe(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield Do(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}})}}class Fo extends zo{constructor(e,r={},n){super(e,r,n)}from(e){return new Mo(this.url,this.headers,e,this.fetch)}}const qo="2.42.7";let tt="";typeof Deno<"u"?tt="deno":typeof document<"u"?tt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tt="react-native":tt="node";const Vo={"X-Client-Info":`supabase-js-${tt}/${qo}`},Wo={headers:Vo},Ko={schema:"public"},Go={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ho={};var Jo=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Xo=t=>{let e;return t?e=t:typeof fetch>"u"?e=Or:e=fetch,(...r)=>e(...r)},Yo=()=>typeof Headers>"u"?ts:Headers,Qo=(t,e,r)=>{const n=Xo(r),s=Yo();return(i,o)=>Jo(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};function Zo(t){return t.replace(/\/$/,"")}function ea(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i)}}const as="2.64.1",ta="http://localhost:9999",ra="supabase.auth.token",na={"X-Client-Info":`gotrue-js/${as}`},on=10,br="X-Supabase-Api-Version",ls={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function sa(t){return Math.round(Date.now()/1e3)+t}function ia(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Z=()=>typeof document<"u",we={tested:!1,writable:!1},ct=()=>{if(!Z())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(we.tested)return we.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),we.tested=!0,we.writable=!0}catch{we.tested=!0,we.writable=!1}return we.writable};function Yt(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const cs=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>We(()=>Promise.resolve().then(()=>yt),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},oa=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",us=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},wt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qt=async(t,e)=>{await t.removeItem(e)};function aa(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Nt{constructor(){this.promise=new Nt.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Nt.promiseConstructor=Promise;function an(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(aa(n))}async function la(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ca(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ua(t){return("0"+t.toString(16)).substr(-2)}function ha(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ua).join("")}async function da(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function fa(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pa(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await da(t);return fa(r)}async function Re(t,e,r=!1){const n=ha();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await us(t,`${e}-code-verifier`,s);const i=await pa(n);return[i,n===i?"plain":"s256"]}const ga=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ma(t){const e=t.headers.get(br);if(!e||!e.match(ga))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class jr extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function x(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ya extends jr{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ba(t){return x(t)&&t.name==="AuthApiError"}class hs extends jr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Oe extends jr{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class _e extends Oe{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Zt extends Oe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _t extends Oe{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kt extends Oe{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ln extends Oe{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vr extends Oe{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function er(t){return x(t)&&t.name==="AuthRetryableFetchError"}class cn extends Oe{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var va=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const ke=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wa=[502,503,504];async function un(t){var e;if(!oa(t))throw new vr(ke(t),0);if(wa.includes(t.status))throw new vr(ke(t),t.status);let r;try{r=await t.json()}catch(i){throw new hs(ke(i),i)}let n;const s=ma(t);if(s&&s.getTime()>=ls["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cn(ke(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cn(ke(r),t.status,r.weak_password.reasons);throw new ya(ke(r),t.status||500,n)}const _a=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function C(t,e,r,n){var s;const i=Object.assign({},n?.headers);i[br]||(i[br]=ls["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ka(t,e,r+a,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function ka(t,e,r,n,s,i){const o=_a(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new vr(ke(l),0)}if(a.ok||await un(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await un(l)}}function pe(t){var e;let r=null;$a(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=sa(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function hn(t){const e=pe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function me(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Sa(t){return{data:t,error:null}}function xa(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=va(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ca(t){return t}function $a(t){return t.access_token&&t.refresh_token&&t.expires_in}var Aa=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Ta{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=cs(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await C(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(x(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await C(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:me})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Aa(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await C(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xa,redirectTo:r?.redirectTo})}catch(r){if(x(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await C(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:me})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await C(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ca});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(b.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(x(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await C(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:me})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await C(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:me})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await C(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:me})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await C(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(x(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await C(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}}}const Oa={getItem:t=>ct()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ct()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ct()&&globalThis.localStorage.removeItem(t)}};function dn(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Ea(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const je={debug:!!(globalThis&&ct()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ds extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Pa extends ds{}async function Ra(t,e,r){je.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),je.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){je.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{je.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw je.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Pa(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(je.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}Ea();const ja={url:ta,storageKey:ra,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:na,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},et=30*1e3,fn=3;async function pn(t,e,r){return await r()}class gt{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gt.nextInstanceID,gt.nextInstanceID+=1,this.instanceID>0&&Z()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ja),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ta({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cs(s.fetch),this.lock=s.lock||pn,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Z()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ra:this.lock=pn,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ct()?this.storage=Oa:(this.memoryStorage={},this.storage=dn(this.memoryStorage)):(this.memoryStorage={},this.storage=dn(this.memoryStorage)),Z()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${as}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Z()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),n?.message==="Identity is already linked"||n?.message==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return x(e)?{error:e}:{error:new hs("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{await this._removeSession();const i=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:pe}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{await this._removeSession();let i;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await Re(this.storage,this.storageKey)),i=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:b},xform:pe})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await C(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=d?.data)!==null&&n!==void 0?n:{},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:pe})}else throw new _t("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await C(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:hn})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await C(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:hn})}else throw new _t("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Zt}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await wt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/"),{data:i,error:o}=await C(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pe});return await Qt(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zt}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await C(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:pe}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zt}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Re(this.storage,this.storageKey));const{error:h}=await C(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await C(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new _t("You must provide either an email or phone number.")}catch(a){if(x(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await C(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{await this._removeSession();let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Re(this.storage,this.storageKey)),await C(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Sa})}catch(i){if(x(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new _e;const{error:s}=await C(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(x(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await C(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await C(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new _t("You must provide either an email or phone number and a type")}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await wt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return this.storage.isServer&&(e=new Proxy(e,{get(a,l,c){return l==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(a,l,c)}})),{data:{session:e},error:null};const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await C(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:me}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _e}:await C(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:me})})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new _e;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Re(this.storage,this.storageKey));const{data:c,error:u}=await C(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:me});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return an(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _e;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=an(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new _e;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!Z())throw new kt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new kt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new ln("Not a valid PKCE flow url.");const r=Yt(window.location.href);if(e){if(!r.code)throw new ln("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(r.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new kt(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=r;if(!i||!a||!o||!c)throw new kt("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=et&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const b=d-h;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,d,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",b,d,u);const{data:p,error:m}=await this._getUser(i);if(m)throw m;const _={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:r.type},error:null}}catch(r){if(x(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const e=Yt(window.location.href);return!!(Z()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Yt(window.location.href),r=await wt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ba(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const r=ia(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Re(this.storage,this.storageKey,!0));try{return await C(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(x(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await C(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Z()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(x(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await C(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(x(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ca(async s=>(s>0&&await la(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await C(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&er(i)&&Date.now()+o-n<et})}catch(n){if(this._debug(r,"error",n),x(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Z()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await wt(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+on;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${on}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),er(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new _e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Nt;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new _e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),x(i)){const o={session:null,error:i};return er(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await us(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Qt(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Z()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),et);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/et);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${et}ms, refresh threshold is ${fn} ticks`),s<=fn&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ds)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Z()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Re(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await C(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(x(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await C(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(!((s=a?.totp)===null||s===void 0)&&s.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(x(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await C(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(x(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await C(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(x(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=e?.factors||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}gt.nextInstanceID=0;const Ia=gt;class La extends Ia{constructor(e){super(e)}}var Da=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Ua{constructor(e,r,n){var s,i,o,a,l,c,u,h;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=Zo(e);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,b={db:Ko,realtime:Ho,auth:Object.assign(Object.assign({},Go),{storageKey:f}),global:Wo},p=ea(n??{},b);this.storageKey=(i=(s=p.auth)===null||s===void 0?void 0:s.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(o=p.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,(c=p.global)===null||c===void 0?void 0:c.fetch),this.fetch=Qo(r,this._getAccessToken.bind(this),(u=p.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new Er(`${d}/rest/v1`,{headers:this.headers,schema:(h=p.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new so(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fo(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Da(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,debug:a},l,c){var u;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new La({url:this.authUrl,headers:Object.assign(Object.assign({},h),l),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,debug:a,fetch:c,hasCustomAuthorizationHeader:(u="Authorization"in this.headers)!==null&&u!==void 0?u:!1})}_initRealtimeClient(e){return new Oo(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ma=(t,e,r)=>new Ua(t,e,r),Na="https://qorhnfileyklvyuercjx.supabase.co",Ba="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFvcmhuZmlsZXlrbHZ5dWVyY2p4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTQxNDI0NzcsImV4cCI6MjAyOTcxODQ3N30.N3bZm-khJWU3qkOgFuA2vkSCl3VH4DkOsqsX7q0YLSU",fs=Ma(Na,Ba);function Ir(t,e=0,r=1){return Math.min(Math.max(e,t),r)}function za(t){t=t.substr(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Ce(t){if(typeof t!="string")return t;if(t.charAt(0)==="#")return Ce(za(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error("MUI: Unsupported `%s` color.\nThe following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color(). "+t);const n=t.substring(e+1,t.length-1);let s,i;if(r==="color"){if(s=n.split(" "),i=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error("MUI: unsupported `%s` color space.\nThe following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020. "+i)}else s=n.split(",");return{type:r,values:s.map(o=>parseFloat(o)),colorSpace:i}}function Bt(t){const{type:e,colorSpace:r}=t,{values:n}=t;let s;return e.indexOf("rgb")!==-1?s=n.map((i,o)=>o<3?parseInt(i.toString(),10):i).join(","):e.indexOf("hsl")!==-1&&(s=n.map((i,o)=>o===1||o===2?`${i}%`:i).join(",")),e.indexOf("color")!==-1?s=`${r} ${n.join(" ")}`:s=`${n.join(", ")}`,`${e}(${s})`}function Fa(t){const e=Ce(t),{values:r}=e,n=r[0],s=r[1]/100,i=r[2]/100,o=s*Math.min(i,1-i),a=(u,h=(u+n/30)%12)=>i-o*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(r[3])),Bt({type:l,values:c})}function gn(t){const{type:e,values:r}=Ce(t);let n=e==="hsl"?Ce(Fa(t)).values:r;return n=n.map(s=>(e!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function qa(t,e){const r=gn(t),n=gn(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Le(t,e){let{type:r,values:n}=Ce(t);return e=Ir(e),(r==="rgb"||r==="hsl")&&(r+="a"),r==="color"?n[3]=`/${e}`:n[3]=e,Bt({type:r,values:n})}function Va(t,e){const r=Ce(t);if(e=Ir(e),r.type.indexOf("hsl")!==-1)r.values[2]*=1-e;else if(r.type.indexOf("rgb")!==-1||r.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)r.values[n]*=1-e;return Bt(r)}function Wa(t,e){const r=Ce(t);if(e=Ir(e),r.type.indexOf("hsl")!==-1)r.values[2]+=(100-r.values[2])*e;else if(r.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)r.values[n]+=(255-r.values[n])*e;else if(r.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)r.values[n]+=(1-r.values[n])*e;return Bt(r)}const Ka={xs:0,sm:600,md:900,lg:1200,xl:1536};function Ga(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const i=n.breakpoints;return e.reduce((o,a,l)=>(o={...o,...i.up(i.keys[l],r(e[l]))},o),{})}if(typeof e=="object"){const i=n.breakpoints;return Object.keys(e).reduce((a,l)=>{if(Object.keys(i.values||Ka).indexOf(l)!==-1)a={...a,...i.up(l,r(e[l],l))};else{const c=l;a[c]=e[c]}return a},{})}return r(e)}const Ha={cleanupStyles:!0},Ja=mt(Ha),$e={black:"#000",white:"#fff"},Ne={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Be={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ze={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Fe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},qe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ut={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xa={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function rt(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Ya(t,e){for(const r of e){const n=t[r];delete t[r],t[r]=n}}function Lr(t,e,r={clone:!0}){const n=r.clone?{...t}:t,s=r.sortKeys?[]:void 0;return rt(t)&&rt(e)&&(Object.keys(e).forEach(i=>{if(i==="__proto__")return;s&&s.push(i);let o,a;rt(o=e[i])&&i in t&&rt(a=t[i])?n[i]=Lr(a,o,r):o!==void 0&&(n[i]=o)}),s&&Ya(n,s)),n}function wr(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(wr(r));return e}else if(rt(t)){const e={};for(const r in t)r!=="__proto__"&&(e[r]=wr(t[r]));return e}else return t}function bt(t,...e){for(const r of e)Lr(t,wr(r),{clone:!1});return t}const Qa=()=>({text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$e.white,default:$e.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}),Za={primary:{main:ze[700],light:ze[400],dark:ze[800]},secondary:{main:Be[500],light:Be[300],dark:Be[700]},error:{main:Ne[700],light:Ne[400],dark:Ne[800]},info:{main:Fe[700],light:Fe[800],dark:Fe[900]},success:{main:qe[800],light:qe[500],dark:qe[900]},warning:{main:"#ED6C02",light:ut[500],dark:ut[900]}},el=()=>({text:{primary:$e.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$e.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}),tl={primary:{main:ze[200],light:ze[50],dark:ze[400]},secondary:{main:Be[200],light:Be[50],dark:Be[400]},error:{main:Ne[500],light:Ne[300],dark:Ne[700]},info:{main:Fe[400],light:Fe[300],dark:Fe[700]},success:{main:qe[400],light:qe[300],dark:qe[700]},warning:{main:ut[400],light:ut[300],dark:ut[700]}},rl={light:Qa,dark:el};function ps(t,e){return qa(t,$e.white)>=e?$e.white:"rgba(0, 0, 0, 0.87)"}function mn(t,e,r,n){const s=typeof n=="number"?n:n.light,i=typeof n=="number"?n*1.5:n.dark;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=Wa(t.main,s):e==="dark"&&(t.dark=Va(t.main,i)))}function nl(t){const e={...t.color},r=t.mainShade??500;return!t.color.main&&t.color[r]&&(e.main=t.color[r]),mn(e,"light",t.lightShade??300,t.tonalOffset),mn(e,"dark",t.darkShade??700,t.tonalOffset),e.contrastText||(e.contrastText=ps(e.main,t.contrastThreshold)),e}const sl=()=>({mode:"light",tonalOffset:.2,contrastThreshold:3,grey:Xa,common:$e});function il(t){const e=["error","info","primary","secondary","success","warning"],r=sl(),n={...bt({},r,rl[t?.mode??r.mode](),t),isColorName(i){return e.includes(i)},getColorObject(i){return n[i]},getColor(i){return n.mode==="light"?n[i].light:n[i].dark},augmentColor(i){return nl({...i,tonalOffset:n.tonalOffset,contrastThreshold:n.contrastThreshold})},getContrastText(i){return ps(i,n.contrastThreshold)}},s=i=>n.mode==="light"?Za[i]:tl[i];return n.primary=n.augmentColor({color:n.primary||s("primary")}),n.secondary=n.augmentColor({color:n.secondary||s("secondary"),mainShade:"A400",lightShade:"A200",darkShade:"A700"}),n.error=n.augmentColor({color:n.error||s("error")}),n.warning=n.augmentColor({color:n.warning||s("warning")}),n.info=n.augmentColor({color:n.info||s("info")}),n.success=n.augmentColor({color:n.success||s("success")}),n}const ol={};function al(t){return{...bt({},ol,t??{})}}function ll(t,e=void 0,r={}){return{toolbar:{minHeight:56,[`${t.up("xs")} and (orientation: landscape)`]:{minHeight:48},[t.up("sm")]:{minHeight:64}},...r}}const tr={},cl=.2,ul=.14,hl=.12;function j(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${cl})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${ul})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${hl})`].join(",")}const dl=[()=>"none",()=>j(0,2,1,-1,0,1,1,0,0,1,3,0),()=>j(0,3,1,-2,0,2,2,0,0,1,5,0),()=>j(0,3,3,-2,0,3,4,0,0,1,8,0),()=>j(0,2,4,-1,0,4,5,0,0,1,10,0),()=>j(0,3,5,-1,0,5,8,0,0,1,14,0),()=>j(0,3,5,-1,0,6,10,0,0,1,18,0),()=>j(0,4,5,-2,0,7,10,1,0,2,16,1),()=>j(0,5,5,-3,0,8,10,1,0,3,14,2),()=>j(0,5,6,-3,0,9,12,1,0,3,16,2),()=>j(0,6,6,-3,0,10,14,1,0,4,18,3),()=>j(0,6,7,-4,0,11,15,1,0,4,20,3),()=>j(0,7,8,-4,0,12,17,2,0,5,22,4),()=>j(0,7,8,-4,0,13,19,2,0,5,24,4),()=>j(0,7,9,-4,0,14,21,2,0,5,26,4),()=>j(0,8,9,-5,0,15,22,2,0,6,28,5),()=>j(0,8,10,-5,0,16,24,2,0,6,30,5),()=>j(0,8,11,-5,0,17,26,2,0,6,32,5),()=>j(0,9,11,-5,0,18,28,2,0,7,34,6),()=>j(0,9,12,-6,0,19,29,2,0,7,36,6),()=>j(0,10,13,-6,0,20,31,3,0,8,38,7),()=>j(0,10,13,-6,0,21,33,3,0,8,40,7),()=>j(0,10,14,-6,0,22,35,3,0,8,42,7),()=>j(0,11,14,-7,0,23,36,3,0,9,44,8),()=>j(0,11,15,-7,0,24,38,3,0,9,46,8)];function fl(){return new Proxy([],{get:(t,e)=>typeof e!="string"||isNaN(Number(e))?t[e]:e in tr?tr[e]:tr[e]=dl[e]()})}const pl={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gl={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yn(t){return`${Math.round(t)}ms`}function ml(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function yl(t){const e={...pl,...t.easing},r={...gl,...t.duration};return{getAutoHeightDuration:ml,create:(s=["all"],i={})=>{const{duration:o=r.standard,easing:a=e.easeInOut,delay:l=0,...c}=i;return(Array.isArray(s)?s:[s]).map(u=>`${u} ${typeof o=="string"?o:yn(o)} ${a} ${typeof l=="string"?l:yn(l)}`).join(",")},...t,easing:e,duration:r}}const V={light:300,regular:400,medium:500,bold:700},St={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,htmlFontSize:16,h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},subtitle1:{},subtitle2:{},body1:{},body2:{},button:{},caption:{},overline:{},fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700};function bl(t){return Math.round(t*1e5)/1e5}function W(t,e,r,n,s,i){return{fontFamily:t.fontFamily,fontWeight:e,fontSize:t.pxToRem(r),lineHeight:`${n}`,letterSpacing:`${bl(s/r)}em`,...i?{textTransform:"uppercase"}:{}}}function vl(t={}){const e={fontFamily:t.fontFamily??St.fontFamily,fontSize:t.fontSize??St.fontSize,htmlFontSize:t?.htmlFontSize??St.htmlFontSize,pxToRem:r=>{const n=e.fontSize/14;return`${r/e.htmlFontSize*n}rem`}};return bt(e,{h1:W(e,V.light,96,1.167,-1.5),h2:W(e,V.light,60,1.2,-.5),h3:W(e,V.regular,48,1.167,0),h4:W(e,V.regular,34,1.235,.25),h5:W(e,V.regular,24,1.334,0),h6:W(e,V.medium,20,1.6,.15),subtitle1:W(e,V.regular,16,1.75,.15),subtitle2:W(e,V.medium,14,1.57,.1),body1:W(e,V.regular,16,1.5,.15),body2:W(e,V.regular,14,1.43,.15),button:W(e,V.medium,14,1.75,.4,!0),caption:W(e,V.regular,12,1.66,.4),overline:W(e,V.regular,12,2.66,1,!0)},St,t)}const wl={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function _l(t){return{...bt({},wl,t)}}function rr(t,e,r="px"){let n;if(t==="up")n=`(min-width:${e}${r})`;else if(t==="down")n=`(max-width:${e}${r})`;else if(t==="between"){const[s,i]=e;n=`(max-width:${s}${r}) and (min-width:${i}${r})`}else throw new Error(`Invalid comparator: ${t}`);return`@media ${n}`}const kl={columns:12,keys:["xs","sm","md","lg","xl"],values:{xs:0,sm:600,md:900,lg:1200,xl:1536},unit:"px"};function gs(t){const e={...kl,...t??{},up:(r,n)=>{const s=rr("up",e.resolve(r));return n?{[s]:n}:s},down:(r,n)=>{const s=rr("down",e.resolve(r));return n?{[s]:n}:s},between:(r,n)=>{const s=rr("between",[e.resolve(r[0]),e.resolve(r[1])]);return n?{[s]:n}:s},resolve:r=>typeof r=="number"?r:e.values[r]};return e}function ms(t){return typeof t=="function"?t:(...r)=>r.map(n=>typeof n=="number"?`${n*(t??8)}px`:n).join(" ")}const Sl={borderRadius:4};function ys(t){return{...bt({},Sl,t)}}function xl(t={}){const e={direction:"ltr",...t};function r(n,s){const i=t[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!0,...typeof i=="function"?{get:i}:{value:s({[n]:i})}})}return r("breakpoints",n=>gs(n.breakpoints)),r("components",n=>al(n.components)),r("palette",n=>il(n.palette)),r("shape",n=>ys(n.shape)),r("spacing",n=>ms(n.spacing)),r("typography",n=>vl(n.typography)),r("shadows",()=>fl()),r("transitions",()=>yl({})),r("zIndex",n=>_l(n.zIndex)),r("mixins",()=>ll(e.breakpoints)),e}function bs(t){let e;return function(){return e||(e=t()),e}}const Cl=bs(xl);let vs;vs=mt({});const Dr=vs;function $l(t){return{direction:"ltr",shadows:void 0,transitions:void 0,components:void 0,palette:void 0,typography:void 0,zIndex:void 0,mixins:void 0,...t,breakpoints:gs(t?.breakpoints),shape:ys(t?.shape),spacing:ms(t?.spacing)}}const Al=bs($l);function Tl(t){for(const e in t)return!1;return!0}function Ur(t=Al,e=Dr){const r=Ae(e);if(Tl(r)&&t)return typeof t=="function"?t():t;if(!r)throw new Error("Theme is not defined");return r}function zt(t=Cl){return Ur(t,Dr)}function Ol(t){return Ur(t,Dr)}function El(t){const e=[],r=typeof t.propDefaults=="function"?t.propDefaults({set:i=>i,inProps:t.props}):t.propDefaults,s=Ol().components?.[t.name]?.defaultProps;return r&&e.push(r),s&&e.push(s),e.length?I(...e,t.props):t.props}function Pl(t,e=!1){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}function Rl(t,e){switch(typeof t){case"function":return Object.assign(t,{[Ns]:!0}),F(()=>t(e));case"string":const r=oi.has(t),n=Pl(t,r);return pi(n,e,r),n}}function jl(t,e){const r=P(t);return P(()=>Rl(r(),e))}function Il(t){const e=t.reduce((r,n)=>("name"in n&&(r[`--${n.name}`]="0"),Lr(r,n,{clone:!1,sortKeys:!0}),r),{});return delete e.name,e}function ws(t){return t.startsWith("--")}function Ll(t){return t.startsWith("__")}function _s(t){return/[^a-z-]/i.test(t)&&!ws(t)}function ks(t){return t.startsWith("@global")}function _r(t){return t.startsWith("@media")}function Ss(t){return t.startsWith("@keyframes")}function bn(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function vn(t,e,r=[],n={}){const s=t.split(",").map(i=>(i=i.trim(),i.includes("&")?i:`& ${i}`));return Rt(e,(r.length?r:[""]).flatMap(i=>s.map(o=>o.replace(/&/g,i).trim())),{...n})}function wn(t,e){if(!e)return bn(t);let r=e.get(t);return r||(e.set(t,r=bn(t)),r)}function Rt(t,e=[],r={}){const n=[],s=[];for(let o in t){const a=t[o];if(!Ll(o))if(ks(o))for(const l in a)s.push(...vn(l,a[l],[],r));else if(_r(o))s.push(...Rt(a,e,{...r,sublevel:!0}).map(l=>`${o} {
${l}
}`));else if(ws(o))a!=null&&n.push(`${o}: ${a};`);else if(Ss(o)){const l=[];for(const c in a)l.push(...Rt(a[c],[/^\d+$/.test(c)?`${c}%`:c],{...r,sublevel:!0}));s.push(`${o} {
${l.join(`
`)}
}`)}else if(_s(o))s.push(...vn(o,a,e,r));else if(r.extraProperties&&o in r.extraProperties){const l=r.extraProperties[o](a);for(const c in l){const u=l[c],h=r.onPropertyValue?r.onPropertyValue(c,u):u;h!=null&&n.push(`${wn(c,r.propertyNameCache)}: ${h};`)}}else{o=wn(o,r.propertyNameCache);const l=r.onPropertyValue?r.onPropertyValue(o,a):a;l!=null&&n.push(`${o}: ${l};`)}}const i=o=>{const a="	".repeat(o);return`${a}${n.join(`
${a}`)}`};if(e.length){const o=r.sublevel?"	":"",a=o+e.join(`,
${o}`);return[...n.length?[`${a} {
${i(r.sublevel?2:1)}
${o}}`]:[],...s]}else return[...n.length?[i(0)]:[],...s]}function Dl(t){return t?Array.isArray(t)?t:[t]:[]}function Ul(t){return typeof t=="function"&&(t=t()),t}class Ml{ids=new Map;rules=new Map;propertyNames=new Map;create(e,r,n){let s=this.rules.get(r);if(s)return s;let i=this.ids.get(n);return typeof i=="number"&&(this.ids.set(n,++i),n+=`_${i}`),s=xs(e,r,n),this.save(s,r),s}save(e,r){this.ids.set(e.id,0),this.rules.set(r,e)}delete(e){this.ids.delete(e.id),this.rules.delete(e.rules)}}function xs(t,e,r){return{id:r,name:t,className:`${t}-${r}`,rules:e.replaceAll("$id",`${r}`)}}function Nl(t){const e=`${t.name}-$id`,r=Dl(Ul(t.props)),n=t.cache?.propertyNames,s=r.map(i=>typeof i=="string"?`.${e} {
${i}
}`:Rt(i,[`.${e}`],{extraProperties:t.extraProperties,propertyNameCache:n}).join(`
`)).join(`
`);return t.cache?.create(t.name,s,t.componentId)||xs(t.name,s,t.componentId)}function Cs(t,e){"styleSheet"in t?t.styleSheet.cssText=e:(t.innerText="",t.appendChild(document.createTextNode(e)))}function Bl(t,e){for(const r in e){const n=e[r];n!==void 0&&(n===null?t.removeAttribute(r):t.setAttribute(r,n))}}function zl(t,e){const r=document.createElement("style");return r.type="text/css",e&&Bl(r,e),Cs(r,t),r}function kr(t){let e=Number(t.getAttribute("data-uses"));e++,t.setAttribute("data-uses",e.toString())}const _n="suid-injectFirst";function Fl(t,e,r){Array.isArray(t)&&(t=t.join(`
`));const n=e?.id,s=document.head||document.getElementsByTagName("head")[0],i=n&&document.getElementById(n);if(i&&i instanceof HTMLStyleElement)return Cs(i,t),kr(i),i;{i&&i.remove();const o=zl(t,e);if(kr(o),r){let a=s.querySelector(`#${_n}`);a||(a=document.createElement("style"),a.setAttribute("id",_n),s.prepend(a)),s.insertBefore(o,a)}else s.appendChild(o);return o}}function ql(t,e="css-"){if(typeof t=="string")return document.getElementById(t);const r=[...t.classList].find(n=>n.startsWith(e));if(r)return document.getElementById(r.slice(e.length))}function kn(t,e=!0){let r=Number(t.getAttribute("data-uses"));r--,r<=0?e?t.remove():t.setAttribute("data-uses","0"):t.setAttribute("data-uses",r.toString())}function N(t){if(typeof t!="string")throw new Error("MUI: `capitalize(string)` expects a string argument.");return t.charAt(0).toUpperCase()+t.slice(1)}function Mr(){return Math.random().toString(36).substring(2,15).slice(0,8)}let Ft=!0,Sr=!1,Sn;const Vl={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Wl(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&Vl[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Kl(t){t.metaKey||t.altKey||t.ctrlKey||(Ft=!0)}function nr(){Ft=!1}function Gl(){this.visibilityState==="hidden"&&Sr&&(Ft=!0)}function Hl(t){t.addEventListener("keydown",Kl,!0),t.addEventListener("mousedown",nr,!0),t.addEventListener("pointerdown",nr,!0),t.addEventListener("touchstart",nr,!0),t.addEventListener("visibilitychange",Gl,!0)}function Jl(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Ft||Wl(e)}function Xl(){const t=i=>{i!=null&&Hl(i.ownerDocument)},[e,r]=D(!1);function n(){return e()?(Sr=!0,window.clearTimeout(Sn),Sn=window.setTimeout(()=>{Sr=!1},100),r(!1),!0):!1}function s(i){return Jl(i)?(r(!0),!0):!1}return{isFocusVisibleRef:{get current(){return e()}},onFocus:s,onBlur:n,ref:t}}const Yl=new Ml;function Ql(t){return t?Array.isArray(t)?t.flat(1/0).filter(e=>!!e):[t]:[]}function Zl(){return Mr()}function ec(t){const e=Ae(Ja),[r,n]=D(""),s=Zl();let i,o=!1;return G(a=>{const l=t();let c;if(l){const u=Il(Ql(l));o="@global"in u,c=Nl({name:"css",props:u,cache:Yl,componentId:s}),i=ql(c.id),i?kr(i):i=Fl(c.rules,{id:c.id,nonce:e.cache?.nonce},e.injectFirst),a?.styleElement&&kn(a.styleElement)}return typeof c?.className=="string"?n(c.className):n(""),{className:c?.className,styleElement:i}},void 0),Ge(()=>{i&&kn(i,e.cleanupStyles??o)}),r}function De(t,e,r={}){for(const n in t){const s=t[n];if(ks(n))r[n]=De(s,e);else if(_r(n))r[n]=De(s,e);else if(Ss(n)){r[n]={};for(const i in s)r[n][i]=De(s[i],e)}else if(_s(n))r[n]=De(s,e);else{const i=e(n,s);if(i)for(const o in i)r[o]=_r(o)?{...r[o],...i[o]}:i[o];else r[n]=s}}return r}const tc=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","fontWeight","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function $s(t,e){if(typeof e=="number")return{[t]:tc.has(t)?e.toString():`${e}px`}}function rc(t,e={}){return De(t,$s,e)}function jt(t,e,r){if(typeof r!="string")return r;const n=r.split(".");let s=t[e];for(let i=0;i<n.length&&(s=s?.[n[i]],!!s);i++);return s??r}function nc(t,e){return e.split(".").reduce((r,n)=>r&&r[n]?r[n]:null,t)}function sc(t,e,r,n){const s=nc(t,e)||r;return typeof s=="number"?i=>typeof i=="string"?i:s*i:Array.isArray(s)?i=>typeof i=="string"?i:s[i]:typeof s=="function"?s:()=>{}}const de={x:["Left","Right"],y:["Top","Bottom"]};function As(t){return typeof t=="number"?`${t}px`:t}function Ts(t,e){return(r,n)=>e(t,r,n)}function g(t,e){return e?(r,n)=>({[t]:e(t,r,n)}):r=>({[t]:r})}function nt(t){return g(t,(e,r)=>As(r))}function J(t,e,r){const n=e.map(s=>`${t}${s}`);return r?(s,i)=>n.reduce((o,a)=>(o[a]=r(a,s,i),o),{}):s=>n.reduce((i,o)=>(i[o]=s,i),{})}function ic(){return{...oc(),...ac(),...lc(),...cc(),...uc(),...hc(),...dc(),...pc(),...fc()}}function oc(){return{displayPrint:Ts("displayPrint",(t,e)=>({"@media print":{display:e}})),displayRaw:g("display"),overflow:g("overflow"),textOverflow:g("textOverflow"),visibility:g("visibility"),whiteSpace:g("whiteSpace")}}function ac(){return{flexBasis:g("flexBasis"),flexDirection:g("flexDirection"),flexWrap:g("flexWrap"),justifyContent:g("justifyContent"),alignItems:g("alignItems"),alignContent:g("alignContent"),order:g("order"),flex:g("flex"),flexGrow:g("flexGrow"),flexShrink:g("flexShrink"),alignSelf:g("alignSelf"),justifyItems:g("justifyItems"),justifySelf:g("justifySelf")}}function lc(){const t=(e,r,n)=>sc(n,"spacing",8)(r);return{gap:g("gap",t),columnGap:g("columnGap",t),rowGap:g("rowGap",t),gridColumn:g("gridColumn"),gridRow:g("gridRow"),gridAutoFlow:g("gridAutoFlow"),gridAutoColumns:g("gridAutoColumns"),gridAutoRows:g("gridAutoRows"),gridTemplateColumns:g("gridTemplateColumns"),gridTemplateRows:g("gridTemplateRows"),gridTemplateAreas:g("gridTemplateAreas"),gridArea:g("gridArea")}}function cc(){return{position:g("position"),zIndex:g("zIndex",(t,e,r)=>r.zIndex?.[t]??e),top:nt("top"),right:nt("right"),bottom:nt("bottom"),left:nt("left")}}function uc(){const t=(e,r,n)=>jt(n,"palette",r);return{color:g("color",t),bgcolor:g("backgroundColor",t),backgroundColor:g("backgroundColor",t)}}function hc(){const t=(e,r,n)=>(e==="maxWidth"&&(r=n.breakpoints.values[e]??r),typeof r=="number"&&(r=r>0&&r<=1?`${r*100}%`:`${r}px`),r);return{width:g("width",t),maxWidth:g("maxWidth",t),minWidth:g("minWidth",t),height:g("height",t),maxHeight:g("maxHeight",t),minHeight:g("minHeight",t),boxSizing:g("boxSizing",t)}}function dc(){const t=(r,n)=>typeof n=="number"?`${n}px solid`:n,e=(r,n,s)=>jt(s,"palette",n);return{border:g("border",t),borderTop:g("borderTop",t),borderRight:g("borderRight",t),borderBottom:g("borderBottom",t),borderLeft:g("borderLeft",t),borderColor:g("borderColor",e),borderTopColor:g("borderTopColor",e),borderRightColor:g("borderRightColor",e),borderBottomColor:g("borderBottomColor",e),borderLeftColor:g("borderLeftColor",e),borderRadius:g("borderRadius",(r,n,s)=>typeof n=="number"?`${s.shape.borderRadius*n}px`:n)}}function fc(){const t=(e,r,n)=>jt(n,"typography",r);return{typography:Ts("typography",(e,r,n)=>jt(n,"typography",r)),fontFamily:g("fontFamily",t),fontSize:g("fontSize",(e,r,n)=>As(t(e,r,n))),fontStyle:g("fontStyle",t),fontWeight:g("fontWeight",t),letterSpacing:nt("letterSpacing"),lineHeight:g("lineHeight"),textAlign:g("textAlign"),textTransform:g("textTransform")}}function pc(){const t=(n,s,i)=>i.spacing(s),e="margin",r="padding";return{m:g(e,t),mt:g("marginTop",t),mr:g("marginRight",t),mb:g("marginBottom",t),ml:g("marginLeft",t),mx:J(e,de.x,t),my:J(e,de.y,t),margin:g(e,t),marginTop:g("marginTop",t),marginRight:g("marginRight",t),marginBottom:g("marginBottom",t),marginLeft:g("marginLeft",t),marginX:J(e,de.x,t),marginY:J(e,de.y,t),marginInline:J(e,["Inline","InlineStart"],t),marginInlineStart:g("marginInlineStart",t),marginInlineEnd:g("marginInlineEnd",t),marginBlock:J(e,["BlockStart","BlockEnd"],t),marginBlockStart:g("marginBlockStart",t),marginBlockEnd:g("marginBlockEnd",t),p:g(r,t),pt:g("paddingTop",t),pr:g("paddingRight",t),pb:g("paddingBottom",t),pl:g("paddingLeft",t),px:J(r,de.x,t),py:J(r,de.y,t),padding:g(r,t),paddingTop:g("paddingTop",t),paddingRight:g("paddingRight",t),paddingBottom:g("paddingBottom",t),paddingLeft:g("paddingLeft",t),paddingX:J(r,de.x,t),paddingY:J(r,de.y,t),paddingInline:J(r,["Inline","InlineStart"],t),paddingInlineStart:g("paddingInlineStart",t),paddingInlineEnd:g("paddingInlineEnd",t),paddingBlock:J(r,["BlockStart","BlockEnd"],t),paddingBlockStart:g("paddingBlockStart",t),paddingBlockEnd:g("paddingBlockEnd",t)}}const Nr=ic(),gc=Object.keys(Nr);function mc(t,e,r){return Nr[t](e,r)}function xn(t,e,r){return t in Nr?mc(t,e,r):$s(t,e)}function yc(t,e){return De(t,(r,n)=>{if(typeof n=="function"&&(n=n(e)),n==null)return n;if(typeof n=="object"){const s={};for(const i of e.breakpoints.keys)s[e.breakpoints.up(i)]={};return Object.assign(s,Ga({theme:e},n,i=>xn(r,i,e)??{[r]:i}))}else return xn(r,n,e)})}function Os(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Os(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function L(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Os(t))&&(n&&(n+=" "),n+=e);return n}const Br=["ownerState","theme","sx","as"];function bc(t,e,r,n){return P(()=>{const s=t(),i=n.ownerState;return r.reduce((o,a)=>{let l;return typeof a=="function"?l=a({ownerState:i,theme:s,get sx(){return n.sx},get as(){return n.as},props:n}):a&&(l=a),l&&o.push(rc(l,{name:e,__resolved:!0})),o},[])})}function Es(t,e){t.__suid=e}function Cn(t){if(typeof t=="function")return t.__suid}function Ps(t){return function(r,n={}){let s,i;if(n.name){const a=n.slot||"Root";i=s=`${n.name}-${a.slice(0,1).toLowerCase()+a.slice(1)}`}else i=`styled-${Mr()}`,s="css";const o=Cn(r);return function(...a){function l(c){let u;const h=()=>{const v=c.theme;return v||u||(u=t&&t.onUseTheme?t.onUseTheme():Ur())},[,d]=Je(c,n.skipProps||Br),f=bc(h,s,a,c),b=()=>{const v=c.sx;return v?Array.isArray(v)?v:[v]:[]},p=()=>{if(o)return r;const v=c.as;return v||r},m=o?()=>o:P(()=>Cn(p())),_=n.skipSx?()=>f():()=>{const v=h();return[...f(),...b().map(w=>w.__resolved?w:yc(w,v))]},y=ec(()=>m()?void 0:_());return jl(p,I(d,{get children(){return c.children},get component(){return m()?c.component:null},get as(){return o?c.as:void 0},get sx(){return m()?_():void 0},get ownerState(){return m()==="system"?c.ownerState:void 0},get class(){return L([...new Set([c.class,i,y()])])}}))}return Es(l,"system"),i&&(l.toString=()=>`.${i}`),l}}}const vc=[...Br,"classes"],q=Ps({onUseTheme:()=>zt()});function wc(t,e,r){const n={};return Object.keys(t).forEach(s=>{n[s]=t[s].reduce((i,o)=>(o&&(r&&r[o]&&i.push(r[o]),i.push(e(o))),i),[]).join(" ")}),n}function _c(t){function e(r){return t(r)}return Object.defineProperty(e,"name",{value:t.name}),e.toString=t.toString,e}function te(){return function(t){function e(a){const l=!!t.slotClasses,c=()=>{if(!t.slotClasses)throw new Error("'slotClasses' option is not defined");if(!t.utilityClass)throw new Error("'utilityClass' option is not defined");return wc(t.slotClasses(a),t.utilityClass,a.classes??"")},u=es({});return l&&zs(()=>{const h=c();it(()=>{for(const d in h)u[d]=h[d]})}),u}function r(a){const[l,c]=Je(a,t.selfPropNames);return{allProps:a,props:l,otherProps:c}}function n(a){return El({propDefaults:a.propDefaults||t.propDefaults,props:a.props,name:t.name})}function s(a){const l=n({props:a});return r(l)}function i(a,l=!0){return a=_c(a),a.toString=()=>`.${t.name}-root`,l&&Es(a,"base"),a}function o(a){const l=i(function(u){const{allProps:h,otherProps:d,props:f}=s(u),b=t.autoCallUseClasses??!0?e(h):{};return a({allProps:h,otherProps:d,props:f,classes:b})});return Object.defineProperty(l,"name",{value:a.name}),l}return{name:t.name,selfPropNames:t.selfPropNames,component:o,defineComponent:i,useClasses:e,useThemeProps:n,useProps:s,splitInProps:r}}}function Rs(t){const[e,r,n]=Je(t,gc,["sx"]);return[()=>{const i=r.sx;return i?Array.isArray(i)?[e,...i]:I(e,i):e},n]}function kc(t){const[e,r]=Rs(t);return I(r,{get sx(){return e()}})}const Sc=Ps(),js=Sc("div",{name:"MuiBox",slot:"Root",skipProps:[...Br,"component"]})(),Is=function(e){return e=kc(e),S(js,I(e,{get as(){return e.as??e.component}}))};Is.toString=js.toString;const xc=te()({name:"MuiBox",selfPropNames:[],utilityClass:t=>`MuiBox-${t}`,slotClasses:()=>({root:["root"]})}),Cc=xc.component(function({otherProps:e,classes:r}){const n=zt();return S(Is,I({theme:n},e,{get class(){return L(r.root,e.class)}}))});var $c=Te("<span>");const Ac=te()({name:"MuiRipple",selfPropNames:["class","classes","pulsate","rippleX","rippleY","rippleSize","in","onExited","timeout"]}),Tc=Ac.component(function({props:e,otherProps:r}){const[n,s]=D(!1),i=()=>L(e.class,e.classes.ripple,e.classes.rippleVisible,e.classes.ripplePulsate&&{[e.classes.ripplePulsate]:e.pulsate}),o=()=>({width:`${e.rippleSize}px`,height:`${e.rippleSize}px`,top:`${-(e.rippleSize/2)+e.rippleY}px`,left:`${-(e.rippleSize/2)+e.rippleX}px`}),a=()=>L(e.classes.child,e.classes.childLeaving&&{[e.classes.childLeaving]:n()},e.classes.childPulsate&&{[e.classes.childPulsate]:e.pulsate});ye(()=>{!e.in&&!n()&&s(!0)});let l;return ye(()=>{!e.in&&e.onExited&&(clearTimeout(l),l=window.setTimeout(e.onExited,e.timeout))}),Ge(()=>clearTimeout(l)),S(Cc,{as:"span",get class(){return i()},get style(){return o()},get sx(){return r.sx},get children(){var c=$c();return G(()=>ot(c,a())),c}})}),$n=t=>t,Oc=()=>{let t=$n;return{configure(e){t=e},generate(e){return t(e)},reset(){t=$n}}},Ec=Oc(),Pc={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function ce(t,e){return Pc[e]||`${Ec.generate(t)}-${e}`}function ue(t,e){const r={};return e.forEach(n=>{r[n]=ce(t,n)}),r}const X=ue("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);function xr(t){const e=r=>{if(e.ref=e.current=r,typeof t=="function"){const n=t();typeof n=="function"&&n(r)}else typeof t?.ref=="function"&&t.ref(r)};return e}function Rc(t){return xr(t)}const jc=te()({name:"MuiTouchRipple",selfPropNames:["center","classes","ref"]}),Cr=550,Ic=80,Lc=q("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Dc=q(Tc,{name:"MuiTouchRipple",slot:"Ripple"})(({theme:t})=>({position:"absolute","@keyframes animation-enter-$id":{0:{transform:"scale(0)",opacity:.1},100:{transform:"scale(1)",opacity:.3}},"@keyframes animation-exit-$id":{0:{opacity:1},100:{opacity:0}},"@keyframes animation-pulsate-$id":{0:{transform:"scale(1)"},50:{transform:"scale(0.92)"},100:{transform:"scale(1)"}},[`&.${X.rippleVisible}`]:{opacity:"0.3",transform:"scale(1)",animationName:"animation-enter-$id",animationDuration:`${Cr}ms`,animationTimingFunction:t.transitions.easing.easeInOut},[`&.${X.ripplePulsate}`]:{animationDuration:`${t.transitions.duration.shorter}ms`},[`& .${X.child}`]:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},[`& .${X.childLeaving}`]:{opacity:0,animationName:"animation-exit-$id",animationDuration:`${Cr}ms`,animationTimingFunction:`${t.transitions.easing.easeInOut}`},[`& .${X.childPulsate}`]:{position:"absolute",left:"0px",top:0,animationName:"animation-pulsate-$id",animationDuration:"2500ms",animationTimingFunction:`${t.transitions.easing.easeInOut}`,animationIterationCount:"infinite",animationDelay:"200ms"}})),Uc=jc.defineComponent(function(e){const r=I({classes:{}},e),[,n]=Je(r,["center","classes","ref"]);let s=0;const[i,o]=D([]),a=es({});let l,c=!1,u,h;const d=Rc();Ge(()=>{u&&clearTimeout(u)}),ye(()=>{i(),l&&(l(),l=void 0)});const f=y=>{const v=s++;a[v]=!0,o(w=>[...w,{id:v,params:y}]),l=y.cb},b=(y,v={pulsate:!1,center:r.center},w)=>{if(v=I(v,{center:v.center||v.pulsate}),y.type==="mousedown"&&c){c=!1;return}y.type==="touchstart"&&(c=!0);const T=d.ref?d.ref.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,Q,re;if(v.center||y.clientX===0&&y.clientY===0||!y.clientX&&!y.touches)z=Math.round(T.width/2),Q=Math.round(T.height/2);else{const{clientX:ve,clientY:se}=y.touches?y.touches[0]:y;z=Math.round(ve-T.left),Q=Math.round(se-T.top)}if(v.center)re=Math.sqrt((2*T.width**2+T.height**2)/3),re%2===0&&(re+=1);else{const ve=Math.max(Math.abs((d.ref?d.ref.clientWidth:0)-z),z)*2+2,se=Math.max(Math.abs((d.ref?d.ref.clientHeight:0)-Q),Q)*2+2;re=Math.sqrt(ve**2+se**2)}y.touches?h||(h=()=>{f({pulsate:v.pulsate,rippleX:z,rippleY:Q,rippleSize:re,cb:w})},u=setTimeout(()=>{h&&(h(),h=void 0)},Ic)):f({pulsate:v.pulsate,rippleX:z,rippleY:Q,rippleSize:re,cb:w})},p=()=>b({},{pulsate:!0}),m=(y,v)=>{if(clearTimeout(u),y.type==="touchend"&&h){h(),h=void 0,u=setTimeout(()=>{m(y,v)});return}for(const w in a)a[w]=!1;h=void 0,l=v},_={pulsate:p,start:b,stop:m};return typeof r.ref=="function"&&r.ref(_),S(Lc,I({get class(){return L(r.classes.root,X.root,n.class)},ref:d},n,{get children(){return S(Nn,{get each(){return i()},children:y=>S(Dc,{get in(){return a[y.id]},onExited:()=>{o(v=>v.filter(w=>w.id!==y.id)),delete a[y.id]},get classes(){return{ripple:L(r.classes.ripple,X.ripple),rippleVisible:L(r.classes.rippleVisible,X.rippleVisible),ripplePulsate:L(r.classes.ripplePulsate,X.ripplePulsate),child:L(r.classes.child,X.child),childLeaving:L(r.classes.childLeaving,X.childLeaving),childPulsate:L(r.classes.childPulsate,X.childPulsate)}},timeout:Cr,get pulsate(){return y.params.pulsate},get rippleX(){return y.params.rippleX},get rippleY(){return y.params.rippleY},get rippleSize(){return y.params.rippleSize}})})}}))});function Mc(t){return ce("MuiButtonBase",t)}const Nc=ue("MuiButtonBase",["root","disabled","focusVisible"]),sr=te()({name:"MuiButtonBase",selfPropNames:["LinkComponent","TouchRippleProps","action","centerRipple","children","classes","disableRipple","disableRipple","disableTouchRipple","disabled","focusRipple","focusVisibleClassName","onFocusVisible","tabIndex","touchRippleRef"],autoCallUseClasses:!1,utilityClass:Mc,slotClasses:t=>({root:["root",t.disabled&&"disabled",t.focusVisible&&"focusVisible"]})}),Bc=q("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Nc.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zc=sr.defineComponent(function(e){const r=zt(),n=I({component:"button",LinkComponent:"a",tabIndex:0},r.components?.[sr.name]?.defaultProps,e),s=xr(e),i=xr(()=>n.touchRippleRef),o=Xl();let a=!1;const[l,c]=D(!1),[u,h]=D(!1),[,d]=Je(n,["LinkComponent","TouchRippleProps","action","centerRipple","children","classes","disableRipple","disableRipple","disableTouchRipple","disabled","focusRipple","focusVisibleClassName","onFocusVisible","tabIndex","touchRippleRef"]),f={get classes(){return n.classes},get disabled(){return n.disabled||!1},get focusVisible(){return l()}},b=sr.useClasses(f);Fs(()=>{h(!0)}),ye(()=>{n.disabled&&l()&&c(!1)}),ye(()=>{l()&&n.focusRipple&&!n.disableRipple&&i.ref.pulsate()});function p(k,he,ne=n.disableTouchRipple){return Ze=>(typeof he=="function"&&he(Ze),!ne&&i.ref&&i.ref[k](Ze),!0)}const m=p("start",n.onMouseDown),_=p("stop",n.onContextMenu),y=p("stop",n.onDragLeave),v=p("stop",n.onMouseUp),w=p("stop",k=>{l()&&k.preventDefault(),typeof n.onMouseLeave=="function"&&n.onMouseLeave(k)}),T=p("start",n.onTouchStart),z=p("stop",n.onTouchEnd),Q=p("stop",n.onTouchMove),re=p("stop",k=>{o.onBlur(k),o.isFocusVisibleRef.current===!1&&c(!1),typeof n.onFocusOut=="function"&&n.onFocusOut(k)},!1),ve=k=>{s.ref||(s.ref=k.currentTarget),o.onFocus(k),o.isFocusVisibleRef.current===!0&&(c(!0),n.onFocusVisible&&n.onFocusVisible(k)),typeof n.onFocusIn=="function"&&n.onFocusIn(k)},se=()=>n.component&&n.component!=="button"&&!(s.ref.tagName==="A"&&s.ref.hasAttribute("href")),Vt=k=>{n.focusRipple&&!a&&l()&&i.ref&&k.key===" "&&(a=!0,i.ref.stop(k,()=>{i.ref.start(k)})),k.target===k.currentTarget&&se()&&k.key===" "&&k.preventDefault(),typeof n.onKeyDown=="function"&&n.onKeyDown(k),k.target===k.currentTarget&&se()&&k.key==="Enter"&&!n.disabled&&(k.preventDefault(),typeof n.onClick=="function"&&n.onClick(k))},A=k=>{n.focusRipple&&k.key===" "&&i.ref&&l()&&!k.defaultPrevented&&(a=!1,i.ref.stop(k,()=>{i.ref.pulsate(k)})),typeof n.onKeyUp=="function"&&n.onKeyUp(k),typeof n.onClick=="function"&&k.target===k.currentTarget&&se()&&k.key===" "&&!k.defaultPrevented&&n.onClick(k)},R=P(()=>{let k=n.component;return k==="button"&&(n.href||n.to)&&(k=n.LinkComponent),k}),U=()=>R()==="button",Ye=()=>u()&&!n.disableRipple&&!n.disabled,Qe=n.TouchRippleProps;return S(Bc,I({get type(){return U()?n.type===void 0?"button":n.type:void 0},get disabled(){return U()?n.disabled:void 0},get role(){return!U()&&n.href&&!n.to?"button":void 0},get"aria-disabled"(){return!U()&&n.disabled?!0:void 0}},d,{get class(){return L(b.root,n.class)},ownerState:f,onFocusOut:re,get onClick(){return n.onClick},onContextMenu:_,onFocusIn:ve,onKeyDown:Vt,onKeyUp:A,onMouseDown:m,onMouseLeave:w,onMouseUp:v,onDragLeave:y,onTouchEnd:z,onTouchMove:Q,onTouchStart:T,ref:s,get tabIndex(){return n.disabled?-1:n.tabIndex},get as(){return R()},get children(){return[P(()=>n.children),S(dt,{get when(){return Ye()},get children(){return S(Uc,I({ref:k=>{i(k)},get center(){return n.centerRipple}},Qe))}})]}}))}),Ls=mt({});function Fc(t){return ce("MuiButton",t)}const xt=ue("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),qc=te()({name:"MuiButton",selfPropNames:["children","classes","color","disableElevation","disableFocusRipple","disabled","endIcon","fullWidth","href","size","startIcon","variant"],propDefaults:({set:t})=>{const e=Ae(Ls);return t({get color(){return e.color??"primary"},component:"button",get disabled(){return e.disabled??!1},get disableElevation(){return e.disableElevation??!1},get disableFocusRipple(){return e.disableFocusRipple??!1},get fullWidth(){return e.fullWidth??!1},get size(){return e.size??"medium"},get variant(){return e.variant??"text"}})},utilityClass:Fc,slotClasses:t=>({root:["root",t.variant,`${t.variant}${N(t.color)}`,`size${N(t.size)}`,`${t.variant}Size${N(t.size)}`,t.color==="inherit"&&"colorInherit",t.disableElevation&&"disableElevation",t.fullWidth&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${N(t.size)}`],endIcon:["endIcon",`iconSize${N(t.size)}`]})}),Ds=t=>({...t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},...t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},...t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}}),Vc=q(zc,{skipProps:vc.filter(t=>t!=="classes"),name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${N(r.color)}`],e[`size${N(r.size)}`],e[`${r.variant}Size${N(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>({...t.typography.button,minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Le(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},...e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:Le(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},...e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${t.palette[e.color].main}`,backgroundColor:Le(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},...e.variant==="contained"&&{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]}},...e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:t.palette[e.color].dark,"@media (hover: none)":{backgroundColor:t.palette[e.color].main}}},"&:active":{...e.variant==="contained"&&{boxShadow:t.shadows[8]}},[`&.${xt.focusVisible}`]:{...e.variant==="contained"&&{boxShadow:t.shadows[6]}},[`&.${xt.disabled}`]:{color:t.palette.action.disabled,...e.variant==="outlined"&&{border:`1px solid ${t.palette.action.disabledBackground}`},...e.variant==="outlined"&&e.color==="secondary"&&{border:`1px solid ${t.palette.action.disabled}`},...e.variant==="contained"&&{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},...e.variant==="text"&&{padding:"6px 8px"},...e.variant==="text"&&e.color!=="inherit"&&{color:t.palette[e.color].main},...e.variant==="outlined"&&{padding:"5px 15px",border:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},...e.variant==="outlined"&&e.color!=="inherit"&&{color:t.palette[e.color].main,border:`1px solid ${Le(t.palette[e.color].main,.5)}`},...e.variant==="contained"&&{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2]},...e.variant==="contained"&&e.color!=="inherit"&&{color:t.palette[e.color].contrastText,backgroundColor:t.palette[e.color].main},...e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},...e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},...e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},...e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},...e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},...e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},...e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},...e.fullWidth&&{width:"100%"}}),({ownerState:t})=>({...t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${xt.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${xt.disabled}`]:{boxShadow:"none"}}})),Wc=q("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${N(r.size)}`]]}})(({ownerState:t})=>({display:"inherit",marginRight:8,marginLeft:-4,...t.size==="small"&&{marginLeft:-2},...Ds(t)})),Kc=q("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${N(r.size)}`]]}})(({ownerState:t})=>({display:"inherit",marginRight:-4,marginLeft:8,...t.size==="small"&&{marginRight:-2},...Ds(t)})),Gc=qc.component(function({allProps:e,otherProps:r,props:n,classes:s}){const i=Ae(Ls),o=ht(()=>n.startIcon),a=ht(()=>n.endIcon);return S(Vc,I({ownerState:e,get class(){return L(s.root,r.class,i.class)},get disabled(){return n.disabled},get focusRipple(){return!n.disableFocusRipple},get focusVisibleClassName(){return L(n.classes?.focusVisible,r.focusVisibleClassName)},get type(){return r.type},get href(){return n.href}},r,{get classes(){return n.classes},get children(){return[S(dt,{get when(){return o()},children:l=>S(Wc,{get class(){return s.startIcon},ownerState:e,get children(){return l()}})}),P(()=>n.children),S(dt,{get when(){return a()},children:l=>S(Kc,{get class(){return s.endIcon},ownerState:e,get children(){return l()}})})]}}))});function Hc(t){return ce("MuiCircularProgress",t)}ue("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Jc=te()({name:"MuiCircularProgress",propDefaults:({set:t})=>t({color:"primary",disableShrink:!1,size:40,thickness:3.6,value:0,variant:"indeterminate"}),selfPropNames:["classes","color","disableShrink","size","thickness","value","variant"],utilityClass:Hc,slotClasses:t=>({root:["root",t.variant,`color${N(t.color)}`],svg:["svg"],circle:["circle",`circle${N(t.variant)}`,t.disableShrink&&"circleDisableShrink"]})}),fe=44,It=Mr(),Xc=q("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${N(r.color)}`]]}})(({ownerState:t,theme:e})=>({width:t.size,height:t.size,...t.variant==="determinate"&&{transform:"rotate(-90deg)"},display:"inline-block",...t.variant==="determinate"&&{transition:e.transitions.create("transform")},...t.color!=="inherit"&&{color:e.palette[t.color].main}}),({ownerState:t})=>t.variant==="indeterminate"&&{[`@keyframes circular-rotate-${It}`]:{0:{transform:"rotate(0deg)"},100:{transform:"rotate(360deg)"}},animation:`circular-rotate-${It} 1.4s linear infinite`}),Yc=q("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Qc=q("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${N(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>({stroke:"currentColor",...t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},...t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&{[`@keyframes circular-dash-${It}`]:{0:{strokeDasharray:"1px, 200px",strokeDashoffset:0},50:{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},100:{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},animation:`circular-dash-${It} 1.4s ease-in-out infinite`}),Us=Jc.component(function({allProps:e,classes:r,otherProps:n,props:s}){const i=()=>{if(s.variant!=="determinate")return{};const a=2*Math.PI*((fe-s.thickness)/2);return{strokeDasharray:a.toFixed(3),strokeDashoffset:`${((100-s.value)/100*a).toFixed(3)}px`}};return S(Xc,I({get class(){return L(r.root,n.class)},ownerState:e,role:"progressbar"},()=>s.variant!=="determinate"?{}:{"aria-valuenow":Math.round(s.value)},n,{get children(){return S(Yc,{get class(){return r.svg},ownerState:e,viewBox:`${fe/2} ${fe/2} ${fe} ${fe}`,get children(){return S(Qc,{get class(){return r.circle},get sx(){return i()},ownerState:e,cx:fe,cy:fe,get r(){return(fe-s.thickness)/2},fill:"none",get"stroke-width"(){return s.thickness}})}})}}))});function Zc(t){return ce("MuiPaper",t)}ue("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const eu=te()({name:"MuiPaper",selfPropNames:["children","classes","elevation","square","variant"],propDefaults:({set:t})=>t({component:"div",elevation:1,square:!1,variant:"elevation"}),utilityClass:Zc,slotClasses:t=>({root:["root",t.variant,!t.square&&"rounded",t.variant==="elevation"&&`elevation${t.elevation}`]})}),An=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Number((e/100).toFixed(2))},tu=q("div",{name:"MuiPaper",slot:"Root"})(({theme:t,ownerState:e})=>({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow"),...!e.square&&{borderRadius:t.shape.borderRadius},...e.variant==="outlined"&&{border:`1px solid ${t.palette.divider}`},...e.variant==="elevation"&&{boxShadow:t.shadows[e.elevation],...t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Le("#fff",An(e.elevation))}, ${Le("#fff",An(e.elevation))})`}}})),qt=eu.component(function({allProps:e,props:r,otherProps:n,classes:s}){return S(tu,I(n,{ownerState:e,get class(){return L(s.root,e.class)},get children(){return r.children}}))});function ru(t){return ce("MuiTypography",t)}ue("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const ir=te()({name:"MuiTypography",selfPropNames:["align","children","classes","gutterBottom","noWrap","paragraph","variant","variantMapping"],utilityClass:ru,slotClasses:t=>({root:["root",t.variant,t.align!=="inherit"&&`align${N(t.align)}`,t.gutterBottom&&"gutterBottom",t.noWrap&&"noWrap",t.paragraph&&"paragraph"]})}),nu=q("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${N(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>({margin:0,color:e.color,...e.variant&&t.typography[e.variant],...e.align!=="inherit"&&{textAlign:e.align},...e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},...e.gutterBottom&&{marginBottom:"0.35em"},...e.paragraph&&{marginBottom:16}})),Tn={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},su={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},iu=t=>su[t]||t,ou=ir.defineComponent(function(e){const n=zt().components?.[ir.name]?.defaultProps,s=()=>iu(e.color??n?.color),[i,o]=Rs(I({align:"inherit",variant:"body1",variantMapping:Tn},n,e,{get color(){return s()}})),[,a]=Je(o,["align","class","component","gutterBottom","noWrap","paragraph","variant","variantMapping"]),l={get classes(){return o.classes},get align(){return o.align},get color(){return s()},get gutterBottom(){return o.gutterBottom||!1},get noWrap(){return o.noWrap||!1},get paragraph(){return o.paragraph||!1},get variant(){return o.variant}},c=()=>o.component||(o.paragraph?"p":o.variantMapping[o.variant]||Tn[o.variant])||"span",u=ir.useClasses(l);return S(nu,I({get as(){return c()},get sx(){return i()},ownerState:l,get class(){return L(u.root,o.class)}},a))});function au(t){return ce("MuiCard",t)}ue("MuiCard",["root"]);const lu=te()({name:"MuiCard",selfPropNames:["classes","raised"],utilityClass:au,propDefaults:({set:t})=>t({component:qt,raised:!1}),slotClasses:()=>({root:["root"]})}),cu=q(qt,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),uu=lu.component(function({props:e,otherProps:r,classes:n}){return S(cu,I({get elevation(){return e.raised?8:void 0},get class(){return L(n.root,r.class)}},r))});function hu(t){return ce("MuiCardActions",t)}ue("MuiCardActions",["root","spacing"]);const du=te()({name:"MuiActions",selfPropNames:["children","classes","disableSpacing"],propDefaults:({set:t})=>t({disableSpacing:!1}),utilityClass:hu,slotClasses:t=>({root:["root",!t.disableSpacing&&"spacing"]})}),fu=q("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>({display:"flex",alignItems:"center",padding:8,...!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}}})),pu=du.component(function({allProps:e,classes:r,otherProps:n,props:s}){return S(fu,I(n,{get class(){return L(r.root,n.class)},ownerState:e,get children(){return s.children}}))});function gu(t){return ce("MuiCardContent",t)}ue("MuiCardContent",["root"]);const mu=te()({name:"MuiContent",selfPropNames:["children","classes"],propDefaults:({set:t})=>t({component:"div"}),utilityClass:gu,slotClasses:()=>({root:["root"]})}),yu=q("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),bu=mu.component(function({allProps:e,classes:r,otherProps:n,props:s}){return S(yu,I(n,{ownerState:e,get class(){return L(r.root,n.class)},get children(){return s.children}}))});var vu=Te("<div aria-live=polite><form class=form-widget>"),wu=Te("<a>Read "),_u=Te("<div style=padding:10px;>");const ku=()=>{const[t,e]=D(!0),[r,n]=D(null);ye(()=>{s()});const s=async()=>{try{e(!0);const{data:i,error:o,status:a}=await fs.from("article").select("title, id");if(o&&a!==406)throw o;i&&n(i.map(l=>({title:l.title||"",id:l.id})))}catch(i){i instanceof Error&&alert(i.message)}finally{e(!1)}};return(()=>{var i=vu(),o=i.firstChild;return xe(o,(()=>{var a=P(()=>!!t());return()=>a()?S(Us,{color:"success"}):""})(),null),xe(o,S(qt,{elevation:6,sx:{height:"90%",width:"90%",margin:"5%"},get children(){return S(Nn,{get each(){return r()},children:(a,l)=>{if(a){const c="/article/"+a.id;return S(uu,{sx:{height:200,width:"80%",margin:10,padding:"10px"},get children(){return[S(bu,{get children(){return S(ou,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,get children(){return(()=>{var u=_u();return G(()=>u.innerHTML=a.title),u})()}})}}),S(pu,{get children(){return S(Gc,{variant:"outlined",get children(){var u=wu();return u.firstChild,Ve(u,"href",c),xe(u,()=>a.id,null),u}})}})]}})}else return[]}})}}),null),i})()},On="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20166%20155.3'%3e%3cpath%20d='M163%2035S110-4%2069%205l-3%201c-6%202-11%205-14%209l-2%203-15%2026%2026%205c11%207%2025%2010%2038%207l46%209%2018-30z'%20fill='%2376b3e1'/%3e%3clinearGradient%20id='a'%20gradientUnits='userSpaceOnUse'%20x1='27.5'%20y1='3'%20x2='152'%20y2='63.5'%3e%3cstop%20offset='.1'%20stop-color='%2376b3e1'/%3e%3cstop%20offset='.3'%20stop-color='%23dcf2fd'/%3e%3cstop%20offset='1'%20stop-color='%2376b3e1'/%3e%3c/linearGradient%3e%3cpath%20d='M163%2035S110-4%2069%205l-3%201c-6%202-11%205-14%209l-2%203-15%2026%2026%205c11%207%2025%2010%2038%207l46%209%2018-30z'%20opacity='.3'%20fill='url(%23a)'/%3e%3cpath%20d='M52%2035l-4%201c-17%205-22%2021-13%2035%2010%2013%2031%2020%2048%2015l62-21S92%2026%2052%2035z'%20fill='%23518ac8'/%3e%3clinearGradient%20id='b'%20gradientUnits='userSpaceOnUse'%20x1='95.8'%20y1='32.6'%20x2='74'%20y2='105.2'%3e%3cstop%20offset='0'%20stop-color='%2376b3e1'/%3e%3cstop%20offset='.5'%20stop-color='%234377bb'/%3e%3cstop%20offset='1'%20stop-color='%231f3b77'/%3e%3c/linearGradient%3e%3cpath%20d='M52%2035l-4%201c-17%205-22%2021-13%2035%2010%2013%2031%2020%2048%2015l62-21S92%2026%2052%2035z'%20opacity='.3'%20fill='url(%23b)'/%3e%3clinearGradient%20id='c'%20gradientUnits='userSpaceOnUse'%20x1='18.4'%20y1='64.2'%20x2='144.3'%20y2='149.8'%3e%3cstop%20offset='0'%20stop-color='%23315aa9'/%3e%3cstop%20offset='.5'%20stop-color='%23518ac8'/%3e%3cstop%20offset='1'%20stop-color='%23315aa9'/%3e%3c/linearGradient%3e%3cpath%20d='M134%2080a45%2045%200%2000-48-15L24%2085%204%20120l112%2019%2020-36c4-7%203-15-2-23z'%20fill='url(%23c)'/%3e%3clinearGradient%20id='d'%20gradientUnits='userSpaceOnUse'%20x1='75.2'%20y1='74.5'%20x2='24.4'%20y2='260.8'%3e%3cstop%20offset='0'%20stop-color='%234377bb'/%3e%3cstop%20offset='.5'%20stop-color='%231a336b'/%3e%3cstop%20offset='1'%20stop-color='%231a336b'/%3e%3c/linearGradient%3e%3cpath%20d='M114%20115a45%2045%200%2000-48-15L4%20120s53%2040%2094%2030l3-1c17-5%2023-21%2013-34z'%20fill='url(%23d)'/%3e%3c/svg%3e",Su="_App_ca1mp_1",xu="_logo_ca1mp_5",Cu="_header_ca1mp_13",$u="_link_ca1mp_24",or={App:Su,logo:xu,"logo-spin":"_logo-spin_ca1mp_1",header:Cu,link:$u};var Au=Te("<div><span><h1><img alt=logo>Heikes tolle supa Articles<img alt=logo>");const Tu=()=>(()=>{var t=Au(),e=t.firstChild,r=e.firstChild,n=r.firstChild,s=n.nextSibling,i=s.nextSibling;return t.style.setProperty("padding","50px 0 100px 0"),Ve(n,"src",On),Ve(i,"src",On),xe(t,S(ku,{}),null),G(o=>{var a=or.App,l=or.logo,c=or.logo;return a!==o.e&&ot(t,o.e=a),l!==o.t&&ot(n,o.t=l),c!==o.a&&ot(i,o.a=c),o},{e:void 0,t:void 0,a:void 0}),t})();var Ou=Te("<div style=padding:20px;>"),Eu=Te("<div aria-live=polite><form class=form-widget><a href=/>back ");const Pu=()=>{const{id:t}=Ei(),e=parseInt(t);console.log("the id ",e);const[r,n]=D(!0),[s,i]=D(null);ye(()=>{o()});const o=async a=>{try{n(!0);const{data:l,error:c,status:u}=await fs.from("article").select("article, id").eq("id",e);if(c&&u!==406)throw c;if(l){const h=l[0].article||"not found";i({article:h})}}catch(l){l instanceof Error&&alert(l.message)}finally{n(!1)}};return(()=>{var a=Eu(),l=a.firstChild;return l.firstChild,xe(l,(()=>{var c=P(()=>!!r());return()=>c()?S(Us,{color:"success"}):""})(),null),xe(l,S(qt,{elevation:6,sx:{height:"100%",width:"90%",margin:"5%"},get children(){var c=Ou();return G(()=>c.innerHTML=s()?.article),c}}),null),a})()},Ru=document.getElementById("root");ci(()=>S(Gi,{get children(){return[S(Jr,{path:"/article/:id",component:Pu}),S(Jr,{path:"/",component:Tu})]}}),Ru);
